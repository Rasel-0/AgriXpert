<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriXpert - Complete Agriculture Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'agri-green': '#16A34A',
                        'agri-light': '#22C55E',
                        'agri-cream': '#F8FAFC',
                        'agri-dark': '#15803D'
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .gradient-primary { background: linear-gradient(135deg, #16A34A 0%, #22C55E 100%); }
        .gradient-subtle { background: linear-gradient(135deg, #F0FDF4 0%, #DCFCE7 100%); }
        .card-professional {
            background: white;
            border: 1px solid #E5E7EB;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-professional:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
            border-color: #D1FAE5;
        }
        .btn-primary {
            background: linear-gradient(135deg, #16A34A 0%, #22C55E 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #15803D 0%, #16A34A 100%);
            transform: translateY(-1px);
            box-shadow: 0 8px 25px -8px rgba(22, 163, 74, 0.5);
        }
        .screen {
            display: none;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.4s ease;
        }
        .screen.active {
            display: block;
            opacity: 1;
            transform: translateX(0);
        }
        .input-field {
            transition: all 0.3s ease;
            border: 2px solid #E5E7EB;
        }
        .input-field:focus {
            border-color: #16A34A;
            box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
        }
        .chat-message {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .dropdown-enter {
            animation: dropdownEnter 0.2s ease-out;
        }
        @keyframes dropdownEnter {
            from { opacity: 0; transform: translateY(-10px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .filter-btn {
            transition: all 0.3s ease;
        }
        .filter-active {
            background: linear-gradient(135deg, #16A34A 0%, #22C55E 100%);
            color: white;
        }
    </style>
</head>
<body class="bg-agri-cream min-h-screen font-sans antialiased">
    <!-- Professional Header -->
    <header class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50">
        <div class="max-w-md mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <!-- Back Button (hidden by default) -->
                    <button id="backBtn" onclick="goBack()" class="p-2 rounded-xl hover:bg-gray-100 transition-colors hidden">
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <div class="w-10 h-10 gradient-primary rounded-xl flex items-center justify-center shadow-lg">
                        <span class="text-white font-bold text-lg">A</span>
                    </div>
                    <div>
                        <h1 class="font-bold text-gray-900 text-lg">AgriXpert</h1>
                        <p class="text-xs text-gray-500" id="headerSubtitle">Smart Agriculture</p>
                    </div>
                </div>
                <div id="headerActions" class="flex items-center space-x-2">
                    <!-- Header actions will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <main class="pt-20 max-w-md mx-auto pb-20">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="screen active px-6 py-8">
            <div class="text-center mb-12">
                <div class="w-28 h-28 gradient-primary rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl">
                    <span class="text-white font-bold text-4xl">A</span>
                </div>
                <h1 class="text-4xl font-bold text-gray-900 mb-3">AgriXpert</h1>
                <p class="text-lg text-gray-600 mb-2">Smart Agriculture Platform</p>
                <p class="text-sm text-gray-500">Empowering Farmers ‚Ä¢ Connecting Buyers ‚Ä¢ Growing Together</p>
            </div>

            <div class="space-y-4 mb-12">
                <button onclick="showScreen('authScreen')" class="w-full btn-primary text-white py-4 px-6 rounded-2xl font-semibold text-lg shadow-xl">
                    Get Started
                </button>
                <button onclick="enterGuestMode()" class="w-full bg-white border-2 border-agri-green text-agri-green py-4 px-6 rounded-2xl font-semibold text-lg hover:bg-agri-green hover:text-white transition-all">
                    Browse as Guest
                </button>
            </div>

            <div class="grid grid-cols-3 gap-4">
                <div class="text-center p-4 bg-white/60 rounded-2xl backdrop-blur-sm">
                    <div class="text-3xl mb-2">üåæ</div>
                    <p class="text-sm font-medium text-gray-700">Smart Farming</p>
                </div>
                <div class="text-center p-4 bg-white/60 rounded-2xl backdrop-blur-sm">
                    <div class="text-3xl mb-2">ü§ù</div>
                    <p class="text-sm font-medium text-gray-700">Direct Sales</p>
                </div>
                <div class="text-center p-4 bg-white/60 rounded-2xl backdrop-blur-sm">
                    <div class="text-3xl mb-2">ü§ñ</div>
                    <p class="text-sm font-medium text-gray-700">AI Assistant</p>
                </div>
            </div>
        </div>

        <!-- Authentication Screen -->
        <div id="authScreen" class="screen px-6 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Welcome</h2>
                <p class="text-gray-600">Sign in to your account or create a new one</p>
            </div>

            <div class="flex bg-gray-100 rounded-2xl p-1 mb-8">
                <button onclick="switchTab('signin')" id="signinTab" class="flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 bg-white text-agri-green shadow-sm">
                    Sign In
                </button>
                <button onclick="switchTab('register')" id="registerTab" class="flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 text-gray-600">
                    Register
                </button>
            </div>

            <!-- Sign In Form -->
            <div id="signinForm" class="auth-form">
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Email or Phone</label>
                        <input type="text" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Enter your email or phone number">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Password</label>
                        <input type="password" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Enter your password">
                    </div>
                    
                    <!-- User Type Selection for Demo -->
                    <div class="space-y-3">
                        <p class="text-sm font-semibold text-gray-700">Sign in as:</p>
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="loginAs('buyer')" class="p-4 border-2 border-blue-200 rounded-xl hover:border-blue-400 transition-colors">
                                <div class="text-2xl mb-2">üõí</div>
                                <div class="font-medium text-blue-800">Buyer</div>
                            </button>
                            <button onclick="loginAs('farmer')" class="p-4 border-2 border-green-200 rounded-xl hover:border-green-400 transition-colors">
                                <div class="text-2xl mb-2">üåæ</div>
                                <div class="font-medium text-green-800">Farmer</div>
                            </button>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="enterGuestMode()" class="text-agri-green font-semibold hover:underline">
                            Continue as Guest
                        </button>
                    </div>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form hidden">
                <div class="space-y-6">
                    <!-- User Type Selection -->
                    <div>
                        <p class="text-sm font-semibold text-gray-700 mb-4">I am registering as:</p>
                        <div class="grid grid-cols-1 gap-4">
                            <button onclick="selectUserType('buyer')" id="buyerTypeBtn" class="user-type-btn p-6 border-2 border-gray-200 rounded-2xl hover:border-blue-400 transition-all">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center text-3xl">üõí</div>
                                    <div class="text-left">
                                        <h3 class="font-bold text-lg text-gray-900">I am a Buyer</h3>
                                        <p class="text-sm text-gray-600">I want to purchase fresh farm products</p>
                                    </div>
                                </div>
                            </button>
                            <button onclick="selectUserType('farmer')" id="farmerTypeBtn" class="user-type-btn p-6 border-2 border-gray-200 rounded-2xl hover:border-green-400 transition-all">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center text-3xl">üåæ</div>
                                    <div class="text-left">
                                        <h3 class="font-bold text-lg text-gray-900">I am a Farmer</h3>
                                        <p class="text-sm text-gray-600">I want to sell my farm products</p>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- Registration Fields -->
                    <div id="registrationFields" class="space-y-4 hidden">
                        <input type="text" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Full Name" required>
                        <input type="email" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Email Address" required>
                        <input type="password" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Create Password" required>
                        <input type="password" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="Confirm Password" required>
                        
                        <!-- Google Login Option -->
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300"></div>
                            </div>
                            <div class="relative flex justify-center text-sm">
                                <span class="px-2 bg-agri-cream text-gray-500">or</span>
                            </div>
                        </div>
                        
                        <button type="button" class="w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl font-semibold hover:bg-gray-50 transition-colors flex items-center justify-center space-x-3">
                            <svg class="w-5 h-5" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            <span>Continue with Google</span>
                        </button>
                        
                        <button onclick="completeRegistration()" class="w-full btn-primary text-white py-4 px-6 rounded-2xl font-semibold text-lg shadow-xl">
                            Create Account
                        </button>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="enterGuestMode()" class="text-agri-green font-semibold hover:underline">
                            Continue as Guest
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Guest Dashboard -->
        <div id="guestDashboard" class="screen px-6 py-8">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Welcome, Guest!</h2>
                <p class="text-gray-600">Explore AgriXpert's educational resources and browse products</p>
            </div>

            <!-- Daily Tips Card -->
            <div class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-2xl border border-green-200 mb-6">
                <div class="flex items-start space-x-4">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-2xl">üí°</div>
                    <div>
                        <h3 class="font-bold text-lg text-gray-900 mb-2">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶ü‡¶ø‡¶™‡¶∏</h3>
                        <p class="text-gray-700 text-sm mb-3">‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßá ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ö‡¶æ‡¶∑‡ßá ‡¶∏‡¶´‡¶≤ ‡¶π‡¶§‡ßá ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶§‡ßá ‡¶ú‡ßà‡¶¨ ‡¶∏‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶∏‡ßá‡¶ö ‡¶¶‡¶ø‡¶®‡•§</p>
                        <span class="text-xs text-green-600 font-medium">Daily Farming Tip</span>
                    </div>
                </div>
            </div>

            <!-- Quick Access Cards -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('productBrowse')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üõí</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Browse Products</h3>
                        <p class="text-xs text-gray-600">Search & filter farm products</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('educationalContent')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üìö</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Learning Center</h3>
                        <p class="text-xs text-gray-600">Educational content in Bengali</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('aiChatbot')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">ü§ñ</div>
                        <h3 class="font-semibold text-gray-900 mb-2">AI Assistant</h3>
                        <p class="text-xs text-gray-600">Ask farming questions</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('soilGuide')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üå±</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Soil Guide</h3>
                        <p class="text-xs text-gray-600">Soil types & fertilizers</p>
                    </div>
                </div>
            </div>

            <!-- Featured Products Preview -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900">Featured Products</h3>
                    <button onclick="showScreen('productBrowse')" class="text-agri-green text-sm font-medium hover:underline">View All</button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                        <div class="text-2xl">üåæ</div>
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">Premium Basmati Rice</h4>
                            <p class="text-sm text-gray-600">‡ß≥85/kg ‚Ä¢ ‚≠ê 4.8</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                        <div class="text-2xl">ü•ï</div>
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">Fresh Carrots</h4>
                            <p class="text-sm text-gray-600">‡ß≥45/kg ‚Ä¢ ‚≠ê 4.9</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Latest Learning Content -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900">Latest Learning Content</h3>
                    <button onclick="showScreen('educationalContent')" class="text-agri-green text-sm font-medium hover:underline">View All</button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                        <div class="text-2xl">üìñ</div>
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∑ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</h4>
                            <p class="text-sm text-gray-600">5 min read ‚Ä¢ Bengali</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                        <div class="text-2xl">üé•</div>
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶∏‡¶¨‡¶ú‡¶ø ‡¶ö‡¶æ‡¶∑</h4>
                            <p class="text-sm text-gray-600">Video tutorial ‚Ä¢ Bengali</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sign Up Prompt -->
            <div class="bg-gradient-to-r from-agri-green to-agri-light p-6 rounded-2xl text-white text-center mb-6">
                <h3 class="font-bold text-xl mb-2">Ready to Get Started?</h3>
                <p class="text-white/90 mb-4">Join thousands of farmers and buyers on AgriXpert</p>
                <div class="flex space-x-3">
                    <button onclick="showScreen('authScreen')" class="flex-1 bg-white text-agri-green py-3 px-6 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                        Sign In
                    </button>
                    <button onclick="showScreen('authScreen'); switchTab('register')" class="flex-1 bg-white/20 text-white border border-white/30 py-3 px-6 rounded-xl font-semibold hover:bg-white/30 transition-colors">
                        Register
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Browse Screen -->
        <div id="productBrowse" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Browse Products</h2>
                <p class="text-gray-600">Discover fresh produce from local farmers</p>
            </div>

            <!-- Search and Filters -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <input type="text" id="productSearch" placeholder="Search products..." class="w-full p-4 input-field rounded-xl focus:outline-none mb-4" onkeyup="filterProducts()">
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <select id="categoryFilter" class="p-3 input-field rounded-xl focus:outline-none" onchange="filterProducts()">
                        <option value="">All Categories</option>
                        <option value="grains">Grains & Rice</option>
                        <option value="vegetables">Vegetables</option>
                        <option value="fruits">Fruits</option>
                        <option value="spices">Spices</option>
                    </select>
                    <select id="locationFilter" class="p-3 input-field rounded-xl focus:outline-none" onchange="filterProducts()">
                        <option value="">All Locations</option>
                        <option value="dhaka">Dhaka</option>
                        <option value="chittagong">Chittagong</option>
                        <option value="sylhet">Sylhet</option>
                        <option value="rajshahi">Rajshahi</option>
                    </select>
                </div>
                <select id="sortFilter" class="w-full p-3 input-field rounded-xl focus:outline-none" onchange="filterProducts()">
                    <option value="newest">Sort by: Newest First</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                    <option value="rating">Highest Rated</option>
                </select>
            </div>

            <!-- Products Grid -->
            <div id="productsGrid" class="grid grid-cols-1 gap-4">
                <!-- Products will be loaded here -->
            </div>
        </div>

        <!-- AI Chatbot Screen -->
        <div id="aiChatbot" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">ü§ñ AI Agriculture Assistant</h2>
                <p class="text-gray-600">Get instant answers to your farming questions in Bengali</p>
            </div>

            <!-- Chat Messages -->
            <div id="chatMessages" class="bg-white rounded-2xl p-4 mb-4 h-96 overflow-y-auto border border-gray-200">
                <div class="chat-message mb-4">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-agri-green rounded-full flex items-center justify-center text-white text-sm">AI</div>
                        <div class="bg-gray-100 p-3 rounded-2xl rounded-tl-sm max-w-xs">
                            <p class="text-sm">‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞! ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ AI ‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶∏‡¶π‡¶æ‡¶Ø‡¶º‡¶ï‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶® ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶Ü‡¶õ‡ßá? ‡¶Ü‡¶Æ‡¶ø ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶¨‡•§</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Questions -->
            <div class="mb-4">
                <p class="text-sm font-semibold text-gray-700 mb-3">Popular Questions:</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button onclick="askQuestion('‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶¨‡¶≤‡ßÅ‡¶®')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Rice Diseases</div>
                        <div class="text-xs text-gray-600">‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®</div>
                    </button>
                    <button onclick="askQuestion('‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Fertilizer Usage</div>
                        <div class="text-xs text-gray-600">‡¶∏‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞</div>
                    </button>
                    <button onclick="askQuestion('‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶∏‡¶¨‡¶ú‡¶ø ‡¶ö‡¶æ‡¶∑')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Winter Vegetables</div>
                        <div class="text-xs text-gray-600">‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶∏‡¶¨‡¶ú‡¶ø ‡¶ö‡¶æ‡¶∑</div>
                    </button>
                    <button onclick="askQuestion('‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Soil Health</div>
                        <div class="text-xs text-gray-600">‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ</div>
                    </button>
                    <button onclick="askQuestion('‡¶ú‡ßà‡¶¨ ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶§‡ßà‡¶∞‡¶ø')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Organic Pesticides</div>
                        <div class="text-xs text-gray-600">‡¶ú‡ßà‡¶¨ ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶§‡ßà‡¶∞‡¶ø</div>
                    </button>
                    <button onclick="askQuestion('‡¶∏‡ßá‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ')" class="bg-white border border-gray-200 p-3 rounded-xl text-sm hover:border-agri-green transition-colors text-left">
                        <div class="font-medium text-gray-800">Irrigation</div>
                        <div class="text-xs text-gray-600">‡¶∏‡ßá‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</div>
                    </button>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="flex space-x-3">
                <input type="text" id="chatInput" placeholder="Type your question in Bengali or English..." class="flex-1 p-4 input-field rounded-xl focus:outline-none">
                <button onclick="sendMessage()" class="btn-primary text-white p-4 rounded-xl hover:shadow-lg transition-all">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                </button>
            </div>

            <!-- AI Disclaimer -->
            <div class="mt-4 p-3 bg-blue-50 rounded-xl border border-blue-200">
                <p class="text-xs text-blue-700">
                    <span class="font-medium">Note:</span> This AI assistant provides general farming guidance. For specific issues, consult with local agricultural experts.
                </p>
            </div>
        </div>

        <!-- Educational Content Screen -->
        <div id="educationalContent" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">üìö Learning Center</h2>
                <p class="text-gray-600">Educational blogs and video tutorials in Bengali</p>
            </div>

            <!-- Content Tabs -->
            <div class="flex bg-gray-100 rounded-2xl p-1 mb-6">
                <button onclick="showContentType('articles')" id="articlesTab" class="flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 bg-white text-agri-green shadow-sm">
                    Articles
                </button>
                <button onclick="showContentType('videos')" id="videosTab" class="flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 text-gray-600">
                    Videos
                </button>
                <button onclick="showContentType('soil')" id="soilTab" class="flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 text-gray-600">
                    Soil Guide
                </button>
            </div>

            <!-- Articles Content -->
            <div id="articlesContent" class="content-section">
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-2xl border border-gray-200 cursor-pointer hover:border-agri-green transition-colors">
                        <div class="flex space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">üåæ</div>
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-gray-900 mb-2">‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∑ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</h3>
                                <p class="text-gray-600 text-sm mb-3">‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ú‡¶æ‡¶§‡ßá‡¶∞ ‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∑‡ßá ‡¶¨‡ßà‡¶ú‡ßç‡¶û‡¶æ‡¶®‡¶ø‡¶ï ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶ì ‡¶™‡¶∞‡¶ø‡¶ö‡¶∞‡ßç‡¶Ø‡¶æ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡ßÅ‡¶®‡•§</p>
                                <div class="flex items-center justify-between text-sm text-gray-500">
                                    <span>üìÖ ‡ßß‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß™</span>
                                    <span>‚è±Ô∏è ‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶°‡¶º‡¶æ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-gray-200 cursor-pointer hover:border-agri-green transition-colors">
                        <div class="flex space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">ü•ï</div>
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-gray-900 mb-2">‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶∏‡¶¨‡¶ú‡¶ø ‡¶ö‡¶æ‡¶∑</h3>
                                <p class="text-gray-600 text-sm mb-3">‡¶∂‡ßÄ‡¶§‡ßá‡¶∞ ‡¶Æ‡ßå‡¶∏‡ßÅ‡¶Æ‡ßá ‡¶≤‡¶æ‡¶≠‡¶ú‡¶®‡¶ï ‡¶∏‡¶¨‡¶ú‡¶ø ‡¶ö‡¶æ‡¶∑‡ßá‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶ì ‡¶™‡¶∞‡¶ø‡¶ö‡¶∞‡ßç‡¶Ø‡¶æ‡•§</p>
                                <div class="flex items-center justify-between text-sm text-gray-500">
                                    <span>üìÖ ‡ßÆ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß™</span>
                                    <span>‚è±Ô∏è ‡ß≠ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶°‡¶º‡¶æ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-gray-200 cursor-pointer hover:border-agri-green transition-colors">
                        <div class="flex space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">üíß</div>
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-gray-900 mb-2">‡¶∏‡ßá‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h3>
                                <p class="text-gray-600 text-sm mb-3">‡¶™‡¶æ‡¶®‡¶ø ‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡¶Ø‡¶º‡ßÄ ‡¶∏‡ßá‡¶ö ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶ì ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡•§</p>
                                <div class="flex items-center justify-between text-sm text-gray-500">
                                    <span>üìÖ ‡ß´ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß™</span>
                                    <span>‚è±Ô∏è ‡ß¨ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶°‡¶º‡¶æ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Videos Content -->
            <div id="videosContent" class="content-section hidden">
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-2xl border border-gray-200 cursor-pointer hover:border-agri-green transition-colors">
                        <div class="flex space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">üé•</div>
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-gray-900 mb-2">‡¶ß‡¶æ‡¶® ‡¶∞‡ßã‡¶™‡¶£‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø</h3>
                                <p class="text-gray-600 text-sm mb-3">‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤: ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶ß‡¶æ‡¶® ‡¶∞‡ßã‡¶™‡¶£ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§</p>
                                <div class="flex items-center justify-between text-sm text-gray-500">
                                    <span>üìÖ ‡ßß‡ß® ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß™</span>
                                    <span>‚è±Ô∏è ‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-gray-200 cursor-pointer hover:border-agri-green transition-colors">
                        <div class="flex space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center text-2xl flex-shrink-0">üé•</div>
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-gray-900 mb-2">‡¶ú‡ßà‡¶¨ ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶§‡ßà‡¶∞‡¶ø</h3>
                                <p class="text-gray-600 text-sm mb-3">‡¶ò‡¶∞‡ßã‡¶Ø‡¶º‡¶æ ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶® ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶ú‡ßà‡¶¨ ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶§‡ßà‡¶∞‡¶ø‡¶∞ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø‡•§</p>
                                <div class="flex items-center justify-between text-sm text-gray-500">
                                    <span>üìÖ ‡ßØ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞, ‡ß®‡ß¶‡ß®‡ß™</span>
                                    <span>‚è±Ô∏è ‡ßß‡ß® ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Soil Guide Content -->
            <div id="soilContent" class="content-section hidden">
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-2xl border border-gray-200">
                        <h3 class="font-semibold text-lg mb-4">‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶®</h3>
                        <div class="space-y-3">
                            <div class="p-4 bg-yellow-50 rounded-xl border border-yellow-200">
                                <h4 class="font-medium text-yellow-800">‡¶¶‡ßã‡¶Ü‡¶Å‡¶∂ ‡¶Æ‡¶æ‡¶ü‡¶ø</h4>
                                <p class="text-sm text-yellow-700 mt-1">‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶â‡¶∞‡ßç‡¶¨‡¶∞, ‡¶∏‡¶¨ ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§</p>
                            </div>
                            <div class="p-4 bg-red-50 rounded-xl border border-red-200">
                                <h4 class="font-medium text-red-800">‡¶è‡¶Å‡¶ü‡ßá‡¶≤ ‡¶Æ‡¶æ‡¶ü‡¶ø</h4>
                                <p class="text-sm text-red-700 mt-1">‡¶™‡¶æ‡¶®‡¶ø ‡¶ß‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá, ‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∑‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≠‡¶æ‡¶≤‡ßã</p>
                            </div>
                            <div class="p-4 bg-gray-50 rounded-xl border border-gray-200">
                                <h4 class="font-medium text-gray-800">‡¶¨‡ßá‡¶≤‡ßá ‡¶Æ‡¶æ‡¶ü‡¶ø</h4>
                                <p class="text-sm text-gray-700 mt-1">‡¶™‡¶æ‡¶®‡¶ø ‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∂‡¶® ‡¶≠‡¶æ‡¶≤‡ßã, ‡¶∂‡¶æ‡¶ï‡¶∏‡¶¨‡¶ú‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-gray-200">
                        <h3 class="font-semibold text-lg mb-4">‡¶∏‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ó‡¶æ‡¶á‡¶°</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="p-4 bg-green-50 rounded-xl text-center">
                                <div class="text-2xl mb-2">üåø</div>
                                <h4 class="font-medium text-green-800">‡¶ú‡ßà‡¶¨ ‡¶∏‡¶æ‡¶∞</h4>
                                <p class="text-xs text-green-700 mt-1">‡¶ó‡ßã‡¶¨‡¶∞, ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü</p>
                            </div>
                            <div class="p-4 bg-blue-50 rounded-xl text-center">
                                <div class="text-2xl mb-2">‚öóÔ∏è</div>
                                <h4 class="font-medium text-blue-800">‡¶∞‡¶æ‡¶∏‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡¶ï ‡¶∏‡¶æ‡¶∞</h4>
                                <p class="text-xs text-blue-700 mt-1">‡¶á‡¶â‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ, TSP, MP</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Soil Guide Screen -->
        <div id="soilGuide" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">üå± Soil Types & Fertilizers</h2>
                <p class="text-gray-600">Learn about soil health and fertilizer management</p>
            </div>

            <div class="space-y-6">
                <!-- Soil Types -->
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <h3 class="font-semibold text-lg mb-4">‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶®</h3>
                    <div class="space-y-3">
                        <div class="p-4 bg-yellow-50 rounded-xl border border-yellow-200">
                            <h4 class="font-medium text-yellow-800">‡¶¶‡ßã‡¶Ü‡¶Å‡¶∂ ‡¶Æ‡¶æ‡¶ü‡¶ø (Loamy Soil)</h4>
                            <p class="text-sm text-yellow-700 mt-1">‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶â‡¶∞‡ßç‡¶¨‡¶∞, ‡¶∏‡¶¨ ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§</p>
                        </div>
                        <div class="p-4 bg-red-50 rounded-xl border border-red-200">
                            <h4 class="font-medium text-red-800">‡¶è‡¶Å‡¶ü‡ßá‡¶≤ ‡¶Æ‡¶æ‡¶ü‡¶ø (Clay Soil)</h4>
                            <p class="text-sm text-red-700 mt-1">‡¶™‡¶æ‡¶®‡¶ø ‡¶ß‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá, ‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∑‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≠‡¶æ‡¶≤‡ßã</p>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-xl border border-gray-200">
                            <h4 class="font-medium text-gray-800">‡¶¨‡ßá‡¶≤‡ßá ‡¶Æ‡¶æ‡¶ü‡¶ø (Sandy Soil)</h4>
                            <p class="text-sm text-gray-700 mt-1">‡¶™‡¶æ‡¶®‡¶ø ‡¶®‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∂‡¶® ‡¶≠‡¶æ‡¶≤‡ßã, ‡¶∂‡¶æ‡¶ï‡¶∏‡¶¨‡¶ú‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§</p>
                        </div>
                    </div>
                </div>

                <!-- Fertilizer Guide -->
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <h3 class="font-semibold text-lg mb-4">‡¶∏‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ó‡¶æ‡¶á‡¶°</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="p-4 bg-green-50 rounded-xl text-center">
                            <div class="text-2xl mb-2">üåø</div>
                            <h4 class="font-medium text-green-800">‡¶ú‡ßà‡¶¨ ‡¶∏‡¶æ‡¶∞</h4>
                            <p class="text-xs text-green-700 mt-1">‡¶ó‡ßã‡¶¨‡¶∞, ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶∏‡ßç‡¶ü</p>
                        </div>
                        <div class="p-4 bg-blue-50 rounded-xl text-center">
                            <div class="text-2xl mb-2">‚öóÔ∏è</div>
                            <h4 class="font-medium text-blue-800">‡¶∞‡¶æ‡¶∏‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡¶ï ‡¶∏‡¶æ‡¶∞</h4>
                            <p class="text-xs text-blue-700 mt-1">‡¶á‡¶â‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ, TSP, MP</p>
                        </div>
                    </div>
                </div>

                <!-- Crop Management Tips -->
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <h3 class="font-semibold text-lg mb-4">‡¶´‡¶∏‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h3>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3 p-3 bg-blue-50 rounded-xl">
                            <div class="text-2xl">üíß</div>
                            <div>
                                <h4 class="font-medium text-blue-800">‡¶∏‡ßá‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ</h4>
                                <p class="text-sm text-blue-700">‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶ì ‡¶™‡¶∞‡¶ø‡¶Æ‡¶ø‡¶§ ‡¶™‡¶æ‡¶®‡¶ø ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3 p-3 bg-green-50 rounded-xl">
                            <div class="text-2xl">üå±</div>
                            <div>
                                <h4 class="font-medium text-green-800">‡¶¨‡ßÄ‡¶ú ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®</h4>
                                <p class="text-sm text-green-700">‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶ú‡¶æ‡¶§‡ßá‡¶∞ ‡¶¨‡ßÄ‡¶ú ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3 p-3 bg-orange-50 rounded-xl">
                            <div class="text-2xl">üêõ</div>
                            <div>
                                <h4 class="font-medium text-orange-800">‡¶ï‡ßÄ‡¶ü‡¶™‡¶§‡¶ô‡ßç‡¶ó ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£</h4>
                                <p class="text-sm text-orange-700">‡¶ú‡ßà‡¶¨ ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø‡¶§‡ßá ‡¶ï‡ßÄ‡¶ü ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Buyer Dashboard -->
        <div id="buyerDashboard" class="screen px-6 py-8">
            <div class="mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">Welcome Back!</h2>
                    <p class="text-gray-600">Find fresh products from local farmers</p>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">üõí</div>
                    <div class="text-2xl font-bold text-gray-900">5</div>
                    <p class="text-xs text-gray-600">Cart Items</p>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">üì¶</div>
                    <div class="text-2xl font-bold text-gray-900">12</div>
                    <p class="text-xs text-gray-600">Orders</p>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">‚≠ê</div>
                    <div class="text-2xl font-bold text-gray-900">4.8</div>
                    <p class="text-xs text-gray-600">Rating</p>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('productBrowse')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üõí</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Browse Products</h3>
                        <p class="text-xs text-gray-600">Find fresh produce</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('buyerOrders')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üì¶</div>
                        <h3 class="font-semibold text-gray-900 mb-2">My Orders</h3>
                        <p class="text-xs text-gray-600">Track deliveries</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('buyerCart')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üõçÔ∏è</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Shopping Cart</h3>
                        <p class="text-xs text-gray-600">5 items ready</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('educationalContent')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üìö</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Learn</h3>
                        <p class="text-xs text-gray-600">Farming guides</p>
                    </div>
                </div>
            </div>

            <!-- Recent Orders -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900">Recent Orders</h3>
                    <button onclick="showScreen('buyerOrders')" class="text-blue-600 text-sm font-medium hover:underline">View All</button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Basmati Rice - 5kg</h4>
                                <p class="text-sm text-gray-600">Order #1234 ‚Ä¢ Delivered</p>
                            </div>
                        </div>
                        <span class="text-green-600 text-sm font-medium">‚úì Delivered</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">ü•ï</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Fresh Carrots - 2kg</h4>
                                <p class="text-sm text-gray-600">Order #1235 ‚Ä¢ In Transit</p>
                            </div>
                        </div>
                        <span class="text-blue-600 text-sm font-medium">üöö In Transit</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Farmer Dashboard -->
        <div id="farmerDashboard" class="screen px-6 py-8">
            <div class="mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Farmer Dashboard</h2>
                        <p class="text-gray-600">Manage your products and orders</p>
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">üì¶</div>
                    <div class="text-2xl font-bold text-gray-900">8</div>
                    <p class="text-xs text-gray-600">Products</p>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">üõí</div>
                    <div class="text-2xl font-bold text-gray-900">15</div>
                    <p class="text-xs text-gray-600">New Orders</p>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-gray-200 text-center">
                    <div class="text-2xl mb-2">üí∞</div>
                    <div class="text-2xl font-bold text-gray-900">‡ß≥2.5k</div>
                    <p class="text-xs text-gray-600">This Month</p>
                </div>
            </div>

            <!-- Today's Farming Tasks -->
            <div class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-2xl border border-green-200 mb-6">
                <div class="flex items-start space-x-4">
                    <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-2xl">üìÖ</div>
                    <div>
                        <h3 class="font-bold text-lg text-gray-900 mb-2">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶ï‡¶æ‡¶ú</h3>
                        <p class="text-gray-700 text-sm mb-3">‚Ä¢ ‡¶ß‡¶æ‡¶® ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßá ‡¶∏‡ßá‡¶ö ‡¶¶‡¶ø‡¶® (‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨‡¶ü‡¶æ - ‡ßÆ‡¶ü‡¶æ)<br>‚Ä¢ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ó‡¶æ‡¶õ‡ßá ‡¶∏‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®<br>‚Ä¢ ‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        <button onclick="showScreen('farmingCalendar')" class="text-green-600 text-sm font-medium hover:underline">View Full Calendar ‚Üí</button>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('farmerProducts')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üì¶</div>
                        <h3 class="font-semibold text-gray-900 mb-2">My Products</h3>
                        <p class="text-xs text-gray-600">Manage listings</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('farmerOrders')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üõí</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Orders</h3>
                        <p class="text-xs text-gray-600">15 pending</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('farmingCalendar')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üìÖ</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Farm Calendar</h3>
                        <p class="text-xs text-gray-600">Plan your crops</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('aiChatbot')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">ü§ñ</div>
                        <h3 class="font-semibold text-gray-900 mb-2">AI Assistant</h3>
                        <p class="text-xs text-gray-600">Ask farming questions</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('addProduct')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">‚ûï</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Add Product</h3>
                        <p class="text-xs text-gray-600">List new items</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showScreen('educationalContent')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üìö</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Learn</h3>
                        <p class="text-xs text-gray-600">Farming guides</p>
                    </div>
                </div>
            </div>

            <!-- Recent Orders -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900">Recent Orders</h3>
                    <button onclick="showScreen('farmerOrders')" class="text-green-600 text-sm font-medium hover:underline">View All</button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Basmati Rice - 10kg</h4>
                                <p class="text-sm text-gray-600">Order #1236 ‚Ä¢ ‡ß≥850</p>
                            </div>
                        </div>
                        <button onclick="updateOrderStatus('1236', 'processing')" class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-lg text-sm font-medium">
                            Process
                        </button>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üçÖ</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Organic Tomatoes - 5kg</h4>
                                <p class="text-sm text-gray-600">Order #1237 ‚Ä¢ ‡ß≥300</p>
                            </div>
                        </div>
                        <button onclick="updateOrderStatus('1237', 'shipped')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-lg text-sm font-medium">
                            Ship
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Buyer Cart Screen -->
        <div id="buyerCart" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Shopping Cart</h2>
                <p class="text-gray-600">5 items ready for checkout</p>
            </div>

            <div class="space-y-4 mb-6">
                <div class="bg-white p-4 rounded-2xl border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üåæ</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900">Premium Basmati Rice</h3>
                            <p class="text-sm text-gray-600">‡ß≥85/kg ‚Ä¢ From Local Farmer</p>
                            <div class="flex items-center space-x-3 mt-2">
                                <button onclick="updateQuantity('rice', -1)" class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center">-</button>
                                <span class="font-medium">2 kg</span>
                                <button onclick="updateQuantity('rice', 1)" class="w-8 h-8 bg-agri-green text-white rounded-full flex items-center justify-center">+</button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-lg">‡ß≥170</div>
                            <button onclick="removeFromCart('rice')" class="text-red-500 text-sm hover:underline">Remove</button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-4 rounded-2xl border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">ü•ï</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-900">Fresh Carrots</h3>
                            <p class="text-sm text-gray-600">‡ß≥45/kg ‚Ä¢ From Organic Farm</p>
                            <div class="flex items-center space-x-3 mt-2">
                                <button onclick="updateQuantity('carrots', -1)" class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center">-</button>
                                <span class="font-medium">3 kg</span>
                                <button onclick="updateQuantity('carrots', 1)" class="w-8 h-8 bg-agri-green text-white rounded-full flex items-center justify-center">+</button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-lg">‡ß≥135</div>
                            <button onclick="removeFromCart('carrots')" class="text-red-500 text-sm hover:underline">Remove</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Summary -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <h3 class="font-semibold text-lg mb-4">Order Summary</h3>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span>Subtotal</span>
                        <span>‡ß≥305</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Delivery Fee</span>
                        <span>‡ß≥50</span>
                    </div>
                    <div class="border-t pt-2 flex justify-between font-bold text-lg">
                        <span>Total</span>
                        <span>‡ß≥355</span>
                    </div>
                </div>
            </div>

            <!-- Checkout Button -->
            <button onclick="proceedToCheckout()" class="w-full btn-primary text-white py-4 px-6 rounded-2xl font-semibold text-lg shadow-xl">
                Proceed to Checkout
            </button>
        </div>

        <!-- Buyer Orders Screen -->
        <div id="buyerOrders" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">My Orders</h2>
                <p class="text-gray-600">Track your order status and history</p>
            </div>

            <div class="space-y-4">
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <h3 class="font-semibold text-lg text-gray-900">Order #1235</h3>
                            <p class="text-sm text-gray-600">Placed on Dec 10, 2024</p>
                        </div>
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">In Transit</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">ü•ï</div>
                            <div>
                                <h4 class="font-medium">Fresh Carrots - 2kg</h4>
                                <p class="text-sm text-gray-600">‡ß≥90</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100">
                        <div class="flex justify-between items-center">
                            <span class="font-medium">Total: ‡ß≥140</span>
                            <button onclick="trackOrder('1235')" class="text-blue-600 font-medium hover:underline">Track Order</button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <h3 class="font-semibold text-lg text-gray-900">Order #1234</h3>
                            <p class="text-sm text-gray-600">Delivered on Dec 8, 2024</p>
                        </div>
                        <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">Delivered</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium">Basmati Rice - 5kg</h4>
                                <p class="text-sm text-gray-600">‡ß≥425</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100">
                        <div class="flex justify-between items-center">
                            <span class="font-medium">Total: ‡ß≥475</span>
                            <button onclick="reorderItems('1234')" class="text-green-600 font-medium hover:underline">Reorder</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

        <!-- Farmer Products Screen -->
        <div id="farmerProducts" class="screen px-6 py-8">
            <div class="mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">My Products</h2>
                        <p class="text-gray-600">Manage your product listings</p>
                    </div>
                    <button onclick="showScreen('addProduct')" class="btn-primary text-white px-4 py-2 rounded-xl text-sm font-semibold">
                        + Add Product
                    </button>
                </div>
            </div>

            <div class="space-y-4">
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üåæ</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-lg text-gray-900">Premium Basmati Rice</h3>
                            <p class="text-sm text-gray-600">‡ß≥85/kg ‚Ä¢ 500kg available</p>
                            <div class="flex items-center space-x-4 mt-2 text-sm text-gray-500">
                                <span>üì¶ 25 orders</span>
                                <span>‚≠ê 4.8 rating</span>
                                <span>üü¢ Active</span>
                            </div>
                        </div>
                        <div class="flex flex-col space-y-2">
                            <button onclick="editProduct('rice')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-lg text-sm font-medium">Edit</button>
                            <button onclick="toggleProductStatus('rice')" class="bg-gray-100 text-gray-800 px-3 py-1 rounded-lg text-sm font-medium">Pause</button>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üçÖ</div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-lg text-gray-900">Organic Tomatoes</h3>
                            <p class="text-sm text-gray-600">‡ß≥60/kg ‚Ä¢ 200kg available</p>
                            <div class="flex items-center space-x-4 mt-2 text-sm text-gray-500">
                                <span>üì¶ 18 orders</span>
                                <span>‚≠ê 4.7 rating</span>
                                <span>üü¢ Active</span>
                            </div>
                        </div>
                        <div class="flex flex-col space-y-2">
                            <button onclick="editProduct('tomatoes')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-lg text-sm font-medium">Edit</button>
                            <button onclick="toggleProductStatus('tomatoes')" class="bg-gray-100 text-gray-800 px-3 py-1 rounded-lg text-sm font-medium">Pause</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Farmer Orders Screen -->
        <div id="farmerOrders" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Order Management</h2>
                <p class="text-gray-600">Process and track customer orders</p>
            </div>

            <div class="space-y-4">
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <h3 class="font-semibold text-lg text-gray-900">Order #1236</h3>
                            <p class="text-sm text-gray-600">From: Ahmed Rahman ‚Ä¢ Dec 12, 2024</p>
                        </div>
                        <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium">New Order</span>
                    </div>
                    <div class="space-y-3 mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium">Basmati Rice - 10kg</h4>
                                <p class="text-sm text-gray-600">‡ß≥850 ‚Ä¢ Delivery: Dhaka</p>
                            </div>
                        </div>
                    </div>
                    <div class="flex space-x-3">
                        <button onclick="updateOrderStatus('1236', 'accepted')" class="flex-1 bg-green-100 text-green-800 py-2 px-4 rounded-xl font-medium">Accept Order</button>
                        <button onclick="updateOrderStatus('1236', 'declined')" class="flex-1 bg-red-100 text-red-800 py-2 px-4 rounded-xl font-medium">Decline</button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <h3 class="font-semibold text-lg text-gray-900">Order #1237</h3>
                            <p class="text-sm text-gray-600">From: Fatima Khatun ‚Ä¢ Dec 11, 2024</p>
                        </div>
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Processing</span>
                    </div>
                    <div class="space-y-3 mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üçÖ</div>
                            <div>
                                <h4 class="font-medium">Organic Tomatoes - 5kg</h4>
                                <p class="text-sm text-gray-600">‡ß≥300 ‚Ä¢ Delivery: Chittagong</p>
                            </div>
                        </div>
                    </div>
                    <button onclick="updateOrderStatus('1237', 'shipped')" class="w-full bg-blue-100 text-blue-800 py-2 px-4 rounded-xl font-medium">Mark as Shipped</button>
                </div>
            </div>
        </div>

        <!-- Farming Calendar Screen -->
        <div id="farmingCalendar" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">üìÖ Farming Calendar</h2>
                <p class="text-gray-600">Plan your crops and track farming activities</p>
            </div>

            <!-- Current Month Overview -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900">December 2024</h3>
                    <div class="flex space-x-2">
                        <button class="p-2 bg-gray-100 rounded-lg hover:bg-gray-200">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <button class="p-2 bg-gray-100 rounded-lg hover:bg-gray-200">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <!-- Mini Calendar -->
                <div class="grid grid-cols-7 gap-2 text-center text-sm">
                    <div class="font-medium text-gray-500 py-2">Sun</div>
                    <div class="font-medium text-gray-500 py-2">Mon</div>
                    <div class="font-medium text-gray-500 py-2">Tue</div>
                    <div class="font-medium text-gray-500 py-2">Wed</div>
                    <div class="font-medium text-gray-500 py-2">Thu</div>
                    <div class="font-medium text-gray-500 py-2">Fri</div>
                    <div class="font-medium text-gray-500 py-2">Sat</div>
                    
                    <div class="py-2 text-gray-400">1</div>
                    <div class="py-2 text-gray-400">2</div>
                    <div class="py-2 text-gray-400">3</div>
                    <div class="py-2 text-gray-400">4</div>
                    <div class="py-2 text-gray-400">5</div>
                    <div class="py-2 text-gray-400">6</div>
                    <div class="py-2 text-gray-400">7</div>
                    
                    <div class="py-2">8</div>
                    <div class="py-2">9</div>
                    <div class="py-2">10</div>
                    <div class="py-2">11</div>
                    <div class="py-2 bg-green-100 text-green-800 rounded-lg font-medium">12</div>
                    <div class="py-2">13</div>
                    <div class="py-2">14</div>
                    
                    <div class="py-2 bg-blue-100 text-blue-800 rounded-lg">15</div>
                    <div class="py-2">16</div>
                    <div class="py-2">17</div>
                    <div class="py-2">18</div>
                    <div class="py-2">19</div>
                    <div class="py-2 bg-orange-100 text-orange-800 rounded-lg">20</div>
                    <div class="py-2">21</div>
                </div>
            </div>

            <!-- Today's Tasks -->
            <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-2xl border border-green-200 mb-6">
                <h3 class="font-bold text-lg text-gray-900 mb-4">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú (‡ßß‡ß® ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞)</h3>
                <div class="space-y-3">
                    <div class="flex items-center space-x-3 p-3 bg-white rounded-xl">
                        <input type="checkbox" class="w-5 h-5 text-green-600 rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">‡¶ß‡¶æ‡¶® ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßá ‡¶∏‡ßá‡¶ö</h4>
                            <p class="text-sm text-gray-600">‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨:‡ß¶‡ß¶ - ‡ßÆ:‡ß¶‡ß¶ ‚Ä¢ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø</p>
                        </div>
                        <span class="text-2xl">üíß</span>
                    </div>
                    <div class="flex items-center space-x-3 p-3 bg-white rounded-xl">
                        <input type="checkbox" class="w-5 h-5 text-green-600 rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ó‡¶æ‡¶õ‡ßá ‡¶∏‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó</h4>
                            <p class="text-sm text-gray-600">‡¶¨‡¶ø‡¶ï‡¶æ‡¶≤ ‡ß™:‡ß¶‡ß¶ - ‡ß¨:‡ß¶‡ß¶</p>
                        </div>
                        <span class="text-2xl">üå±</span>
                    </div>
                    <div class="flex items-center space-x-3 p-3 bg-white rounded-xl">
                        <input type="checkbox" class="w-5 h-5 text-green-600 rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-900">‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶∏ ‡¶ö‡ßá‡¶ï</h4>
                            <p class="text-sm text-gray-600">‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶Ø‡¶º</p>
                        </div>
                        <span class="text-2xl">üå§Ô∏è</span>
                    </div>
                </div>
            </div>

            <!-- Weather Alert -->
            <div class="bg-yellow-50 p-6 rounded-2xl border border-yellow-200 mb-6">
                <div class="flex items-start space-x-4">
                    <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center text-2xl">‚ö†Ô∏è</div>
                    <div>
                        <h3 class="font-bold text-lg text-yellow-800 mb-2">‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ</h3>
                        <p class="text-yellow-700 text-sm mb-3">‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡ß© ‡¶¶‡¶ø‡¶® ‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ‡•§ ‡¶ß‡¶æ‡¶® ‡¶ï‡¶æ‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶è‡¶ó‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶®‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ö‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶∏‡ßç‡¶•‡¶ó‡¶ø‡¶§ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§</p>
                        <button onclick="showScreen('aiChatbot')" class="text-yellow-600 text-sm font-medium hover:underline">AI ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂ ‡¶®‡¶ø‡¶® ‚Üí</button>
                    </div>
                </div>
            </div>

            <!-- Seasonal Planting Guide -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <h3 class="font-semibold text-lg text-gray-900 mb-4">‡¶∂‡ßÄ‡¶§‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶ö‡¶æ‡¶∑‡¶æ‡¶¨‡¶æ‡¶¶ ‡¶ó‡¶æ‡¶á‡¶°</h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class="p-4 bg-blue-50 rounded-xl">
                        <div class="text-2xl mb-2">ü•¨</div>
                        <h4 class="font-medium text-blue-800">‡¶∂‡¶æ‡¶ï‡¶∏‡¶¨‡¶ú‡¶ø</h4>
                        <p class="text-xs text-blue-700 mt-1">‡¶™‡¶æ‡¶≤‡¶Ç ‡¶∂‡¶æ‡¶ï, ‡¶≤‡¶æ‡¶≤ ‡¶∂‡¶æ‡¶ï, ‡¶Æ‡ßÇ‡¶≤‡¶æ</p>
                        <p class="text-xs text-blue-600 mt-1">‡¶∞‡ßã‡¶™‡¶£: ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ - ‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø</p>
                    </div>
                    <div class="p-4 bg-green-50 rounded-xl">
                        <div class="text-2xl mb-2">ü•ï</div>
                        <h4 class="font-medium text-green-800">‡¶Æ‡ßÇ‡¶≤ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º</h4>
                        <p class="text-xs text-green-700 mt-1">‡¶ó‡¶æ‡¶ú‡¶∞, ‡¶¨‡¶ø‡¶ü, ‡¶∂‡¶æ‡¶≤‡¶ó‡¶Æ</p>
                        <p class="text-xs text-green-600 mt-1">‡¶∞‡ßã‡¶™‡¶£: ‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ - ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞</p>
                    </div>
                    <div class="p-4 bg-orange-50 rounded-xl">
                        <div class="text-2xl mb-2">üå∂Ô∏è</div>
                        <h4 class="font-medium text-orange-800">‡¶Æ‡¶∏‡¶≤‡¶æ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º</h4>
                        <p class="text-xs text-orange-700 mt-1">‡¶Æ‡¶∞‡¶ø‡¶ö, ‡¶ß‡¶®‡¶ø‡¶Ø‡¶º‡¶æ, ‡¶ú‡¶ø‡¶∞‡¶æ</p>
                        <p class="text-xs text-orange-600 mt-1">‡¶∞‡ßã‡¶™‡¶£: ‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞ - ‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞</p>
                    </div>
                    <div class="p-4 bg-purple-50 rounded-xl">
                        <div class="text-2xl mb-2">üßÖ</div>
                        <h4 class="font-medium text-purple-800">‡¶™‡ßá‡¶Å‡¶Ø‡¶º‡¶æ‡¶ú ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º</h4>
                        <p class="text-xs text-purple-700 mt-1">‡¶™‡ßá‡¶Å‡¶Ø‡¶º‡¶æ‡¶ú, ‡¶∞‡¶∏‡ßÅ‡¶®, ‡¶≤‡¶ø‡¶ï</p>
                        <p class="text-xs text-purple-600 mt-1">‡¶∞‡ßã‡¶™‡¶£: ‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ - ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞</p>
                    </div>
                </div>
            </div>

            <!-- Upcoming Tasks -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <h3 class="font-semibold text-lg text-gray-900 mb-4">‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium text-gray-900">‡¶ß‡¶æ‡¶® ‡¶ï‡¶æ‡¶ü‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡¶ø</h4>
                                <p class="text-sm text-gray-600">‡ßß‡ß´ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ ‚Ä¢ ‡¶∏‡¶∞‡¶û‡ßç‡¶ú‡¶æ‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                            </div>
                        </div>
                        <span class="text-blue-600 text-sm font-medium">‡ß© ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">ü•ï</div>
                            <div>
                                <h4 class="font-medium text-gray-900">‡¶ó‡¶æ‡¶ú‡¶∞ ‡¶¨‡ßÄ‡¶ú ‡¶¨‡¶™‡¶®</h4>
                                <p class="text-sm text-gray-600">‡ß®‡ß¶ ‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞ ‚Ä¢ ‡¶ú‡¶Æ‡¶ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®</p>
                            </div>
                        </div>
                        <span class="text-orange-600 text-sm font-medium">‡ßÆ ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Weather Information Screen -->
        <div id="weatherInfo" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">üå§Ô∏è Weather Information</h2>
                <p class="text-gray-600">Current weather and 7-day forecast for your location</p>
            </div>

            <!-- Current Weather -->
            <div class="bg-gradient-to-br from-blue-400 to-blue-600 p-6 rounded-2xl text-white mb-6 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-xl font-semibold">Dhaka, Bangladesh</h3>
                        <p class="text-blue-100">Today, December 12</p>
                    </div>
                    <div class="text-6xl">‚òÄÔ∏è</div>
                </div>
                <div class="flex items-end space-x-4">
                    <div class="text-5xl font-bold">28¬∞C</div>
                    <div class="text-blue-100 mb-2">
                        <div>Feels like 32¬∞C</div>
                        <div>Sunny</div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-4 mt-6 pt-4 border-t border-blue-300">
                    <div class="text-center">
                        <div class="text-blue-100 text-sm">Humidity</div>
                        <div class="font-semibold">65%</div>
                    </div>
                    <div class="text-center">
                        <div class="text-blue-100 text-sm">Wind</div>
                        <div class="font-semibold">12 km/h</div>
                    </div>
                    <div class="text-center">
                        <div class="text-blue-100 text-sm">UV Index</div>
                        <div class="font-semibold">High</div>
                    </div>
                </div>
            </div>

            <!-- Weather Alert -->
            <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-200 mb-6">
                <div class="flex items-start space-x-3">
                    <div class="text-2xl">‚ö†Ô∏è</div>
                    <div>
                        <h4 class="font-semibold text-yellow-800 mb-1">Weather Alert</h4>
                        <p class="text-yellow-700 text-sm">Heavy rain expected tomorrow evening. Consider harvesting ready crops and securing equipment.</p>
                    </div>
                </div>
            </div>

            <!-- 7-Day Forecast -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <h3 class="font-semibold text-lg text-gray-900 mb-4">7-Day Forecast</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåßÔ∏è</div>
                            <div>
                                <div class="font-medium">Tomorrow</div>
                                <div class="text-sm text-gray-600">Dec 13</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">24¬∞C / 18¬∞C</div>
                            <div class="text-sm text-gray-600">Rain</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">‚õÖ</div>
                            <div>
                                <div class="font-medium">Saturday</div>
                                <div class="text-sm text-gray-600">Dec 14</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">26¬∞C / 19¬∞C</div>
                            <div class="text-sm text-gray-600">Partly Cloudy</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">‚òÄÔ∏è</div>
                            <div>
                                <div class="font-medium">Sunday</div>
                                <div class="text-sm text-gray-600">Dec 15</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">29¬∞C / 21¬∞C</div>
                            <div class="text-sm text-gray-600">Sunny</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üå§Ô∏è</div>
                            <div>
                                <div class="font-medium">Monday</div>
                                <div class="text-sm text-gray-600">Dec 16</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">27¬∞C / 20¬∞C</div>
                            <div class="text-sm text-gray-600">Partly Sunny</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåßÔ∏è</div>
                            <div>
                                <div class="font-medium">Tuesday</div>
                                <div class="text-sm text-gray-600">Dec 17</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">23¬∞C / 17¬∞C</div>
                            <div class="text-sm text-gray-600">Light Rain</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">‚õàÔ∏è</div>
                            <div>
                                <div class="font-medium">Wednesday</div>
                                <div class="text-sm text-gray-600">Dec 18</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">25¬∞C / 19¬∞C</div>
                            <div class="text-sm text-gray-600">Thunderstorm</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">‚òÄÔ∏è</div>
                            <div>
                                <div class="font-medium">Thursday</div>
                                <div class="text-sm text-gray-600">Dec 19</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold">30¬∞C / 22¬∞C</div>
                            <div class="text-sm text-gray-600">Clear</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Farming Recommendations -->
            <div class="bg-green-50 p-6 rounded-2xl border border-green-200 mb-6">
                <h3 class="font-semibold text-lg text-green-800 mb-4">üå± Farming Recommendations</h3>
                <div class="space-y-3">
                    <div class="flex items-start space-x-3">
                        <div class="text-xl">üíß</div>
                        <div>
                            <h4 class="font-medium text-green-800">Irrigation</h4>
                            <p class="text-sm text-green-700">Skip watering tomorrow due to expected rain. Resume on Saturday.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="text-xl">üåæ</div>
                        <div>
                            <h4 class="font-medium text-green-800">Harvesting</h4>
                            <p class="text-sm text-green-700">Good weather for harvesting on Sunday and Monday. Plan accordingly.</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <div class="text-xl">üõ°Ô∏è</div>
                        <div>
                            <h4 class="font-medium text-green-800">Protection</h4>
                            <p class="text-sm text-green-700">Cover sensitive crops before Wednesday's thunderstorm.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Location Settings -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200">
                <h3 class="font-semibold text-lg text-gray-900 mb-4">üìç Location Settings</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Select Your District</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:border-agri-green">
                            <option>Dhaka</option>
                            <option>Chittagong</option>
                            <option>Sylhet</option>
                            <option>Rajshahi</option>
                            <option>Khulna</option>
                            <option>Barisal</option>
                            <option>Rangpur</option>
                            <option>Mymensingh</option>
                        </select>
                    </div>
                    <button onclick="updateWeatherLocation()" class="w-full bg-agri-green text-white py-3 px-6 rounded-xl font-medium hover:bg-agri-dark transition-colors">
                        Update Location
                    </button>
                </div>
            </div>
        </div>

        <!-- Help Center Screen -->
        <div id="helpCenter" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">üÜò Help Center</h2>
                <p class="text-gray-600">Find nearby agricultural services and support</p>
            </div>

            <!-- Quick Services -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showNearbyServices('fertilizer')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üå±</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Fertilizer Shops</h3>
                        <p class="text-xs text-gray-600">Find nearby stores</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showNearbyServices('agriculture')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üè¢</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Agriculture Office</h3>
                        <p class="text-xs text-gray-600">Government services</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showNearbyServices('veterinary')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üêÑ</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Veterinary</h3>
                        <p class="text-xs text-gray-600">Animal healthcare</p>
                    </div>
                </div>
                
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showNearbyServices('equipment')">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-3">üöú</div>
                        <h3 class="font-semibold text-gray-900 mb-2">Equipment Rental</h3>
                        <p class="text-xs text-gray-600">Farm machinery</p>
                    </div>
                </div>
            </div>

            <!-- Emergency Contacts -->
            <div class="bg-red-50 p-6 rounded-2xl border border-red-200 mb-6">
                <h3 class="font-semibold text-lg text-red-800 mb-4">üö® Emergency Contacts</h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-white rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üöë</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Emergency Services</h4>
                                <p class="text-sm text-gray-600">Medical & Fire Emergency</p>
                            </div>
                        </div>
                        <button onclick="callEmergency('999')" class="bg-red-100 text-red-800 px-4 py-2 rounded-lg font-medium">999</button>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-white rounded-xl">
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl">üåæ</div>
                            <div>
                                <h4 class="font-medium text-gray-900">Agriculture Helpline</h4>
                                <p class="text-sm text-gray-600">Farming advice & support</p>
                            </div>
                        </div>
                        <button onclick="callEmergency('16123')" class="bg-green-100 text-green-800 px-4 py-2 rounded-lg font-medium">16123</button>
                    </div>
                </div>
            </div>

            <!-- Nearby Services List -->
            <div id="nearbyServicesList" class="bg-white p-6 rounded-2xl border border-gray-200 hidden">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-lg text-gray-900" id="servicesTitle">Nearby Services</h3>
                    <button onclick="hideNearbyServices()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div id="servicesContent" class="space-y-3">
                    <!-- Services will be populated here -->
                </div>
            </div>

            <!-- FAQ Section -->
            <div class="bg-white p-6 rounded-2xl border border-gray-200 mb-6">
                <h3 class="font-semibold text-lg text-gray-900 mb-4">‚ùì Frequently Asked Questions</h3>
                <div class="space-y-4">
                    <div class="border-b border-gray-100 pb-4">
                        <button onclick="toggleFAQ('faq1')" class="w-full text-left flex items-center justify-between">
                            <h4 class="font-medium text-gray-900">How do I get soil testing done?</h4>
                            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="faq1" class="hidden mt-3 text-sm text-gray-600">
                            Contact your nearest agriculture office or visit the Department of Agricultural Extension (DAE) office in your district. They provide soil testing services at subsidized rates.
                        </div>
                    </div>
                    
                    <div class="border-b border-gray-100 pb-4">
                        <button onclick="toggleFAQ('faq2')" class="w-full text-left flex items-center justify-between">
                            <h4 class="font-medium text-gray-900">Where can I get quality seeds?</h4>
                            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="faq2" class="hidden mt-3 text-sm text-gray-600">
                            Visit authorized dealers of Bangladesh Agricultural Development Corporation (BADC) or certified seed companies. Always check for proper certification and expiry dates.
                        </div>
                    </div>
                    
                    <div class="border-b border-gray-100 pb-4">
                        <button onclick="toggleFAQ('faq3')" class="w-full text-left flex items-center justify-between">
                            <h4 class="font-medium text-gray-900">How to apply for agricultural loans?</h4>
                            <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="faq3" class="hidden mt-3 text-sm text-gray-600">
                            Visit your nearest bank branch with land documents, NID, and farming plan. Many banks offer special agricultural loan schemes with lower interest rates.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Support -->
            <div class="bg-gradient-to-r from-agri-green to-agri-light p-6 rounded-2xl text-white text-center">
                <h3 class="font-bold text-xl mb-2">Need More Help?</h3>
                <p class="text-white/90 mb-4">Contact our agricultural experts for personalized assistance</p>
                <button onclick="showScreen('aiChatbot')" class="bg-white text-agri-green py-3 px-8 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                    Chat with AI Assistant
                </button>
            </div>
        </div>

        <!-- Add Product Screen -->
        <div id="addProduct" class="screen px-6 py-8">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Add New Product</h2>
                <p class="text-gray-600">List your farm products for sale</p>
            </div>

            <div class="space-y-6">
                <div class="bg-white p-6 rounded-2xl border border-gray-200">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Product Name</label>
                            <input type="text" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="e.g., Premium Basmati Rice">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">Category</label>
                                <select class="w-full p-4 input-field rounded-xl focus:outline-none">
                                    <option>Select Category</option>
                                    <option>Grains & Rice</option>
                                    <option>Vegetables</option>
                                    <option>Fruits</option>
                                    <option>Spices</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">Price per kg (‡ß≥)</label>
                                <input type="number" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="85">
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">Available Quantity (kg)</label>
                                <input type="number" class="w-full p-4 input-field rounded-xl focus:outline-none" placeholder="500">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">Location</label>
                                <select class="w-full p-4 input-field rounded-xl focus:outline-none">
                                    <option>Select Location</option>
                                    <option>Dhaka</option>
                                    <option>Chittagong</option>
                                    <option>Sylhet</option>
                                    <option>Rajshahi</option>
                                    <option>Khulna</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Description</label>
                            <textarea class="w-full p-4 input-field rounded-xl focus:outline-none h-24" placeholder="Describe your product quality, farming methods, etc."></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Product Image</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center">
                                <div class="text-4xl mb-4">üì∑</div>
                                <p class="text-gray-600 mb-2">Click to upload product image</p>
                                <p class="text-sm text-gray-500">JPG, PNG up to 5MB</p>
                            </div>
                        </div>

                        <button onclick="saveProduct()" class="w-full btn-primary text-white py-4 px-6 rounded-2xl font-semibold text-lg shadow-xl">
                            List Product
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav id="bottomNav" class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 hidden">
        <div class="max-w-6xl mx-auto px-6 py-3">
            <div id="guestNav" class="flex justify-around">
                <button onclick="showScreen('guestDashboard')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Home</span>
                </button>
                <button onclick="showScreen('productBrowse')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Products</span>
                </button>
                <button onclick="showScreen('educationalContent')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Learn</span>
                </button>
                <button onclick="showScreen('aiChatbot')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    <span class="text-xs text-gray-600">AI Chat</span>
                </button>
            </div>

            <!-- Buyer Navigation -->
            <div id="buyerNav" class="flex justify-around hidden">
                <button onclick="showScreen('buyerDashboard')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Home</span>
                </button>
                <button onclick="showScreen('productBrowse')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Browse</span>
                </button>
                <button onclick="showScreen('buyerCart')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors relative">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 11-4 0v-6m4 0V9a2 2 0 10-4 0v4.01"></path>
                    </svg>
                    <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">5</span>
                    <span class="text-xs text-gray-600">Cart</span>
                </button>
                <button onclick="showScreen('buyerOrders')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Orders</span>
                </button>
            </div>

            <!-- Farmer Navigation -->
            <div id="farmerNav" class="flex justify-around hidden">
                <button onclick="showScreen('farmerDashboard')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Home</span>
                </button>
                <button onclick="showScreen('farmerProducts')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Products</span>
                </button>
                <button onclick="showScreen('weatherInfo')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Weather</span>
                </button>
                <button onclick="showScreen('helpCenter')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-xs text-gray-600">Help</span>
                </button>
                <button onclick="showScreen('farmerOrders')" class="nav-btn flex flex-col items-center space-y-1 p-2 rounded-lg hover:bg-gray-100 transition-colors relative">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                    <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">15</span>
                    <span class="text-xs text-gray-600">Orders</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Enhanced Product Modal -->
    <div id="productModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-end">
        <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl transform translate-y-full transition-transform duration-500 ease-out" id="modalContent">
            <!-- Modal content will be populated by JavaScript -->
        </div>
    </div>

    <script>
        let currentScreen = 'welcomeScreen';
        let screenHistory = [];
        let isGuestMode = false;
        let userType = null; // 'buyer', 'farmer', or null
        let selectedUserType = null; // For registration

        // Sample product data
        const sampleProducts = [
            {id: 1, name: 'Premium Basmati Rice', category: 'grains', price: 85, location: 'dhaka', rating: 4.8, emoji: 'üåæ', description: 'Organic, pesticide-free'},
            {id: 2, name: 'Fresh Carrots', category: 'vegetables', price: 45, location: 'chittagong', rating: 4.9, emoji: 'ü•ï', description: 'Farm-fresh, harvested today'},
            {id: 3, name: 'Organic Tomatoes', category: 'vegetables', price: 60, location: 'sylhet', rating: 4.7, emoji: 'üçÖ', description: 'Vine-ripened, chemical-free'},
            {id: 4, name: 'Red Onions', category: 'vegetables', price: 35, location: 'rajshahi', rating: 4.6, emoji: 'üßÖ', description: 'Fresh from local farms'},
            {id: 5, name: 'Green Chili', category: 'spices', price: 120, location: 'khulna', rating: 4.8, emoji: 'üå∂Ô∏è', description: 'Hot and fresh'},
            {id: 6, name: 'Sweet Corn', category: 'grains', price: 40, location: 'dhaka', rating: 4.5, emoji: 'üåΩ', description: 'Sweet and tender'},
            {id: 7, name: 'Fresh Spinach', category: 'vegetables', price: 25, location: 'chittagong', rating: 4.7, emoji: 'ü•¨', description: 'Nutrient-rich leafy greens'},
            {id: 8, name: 'Ripe Mangoes', category: 'fruits', price: 80, location: 'rajshahi', rating: 4.9, emoji: 'ü•≠', description: 'Sweet and juicy'},
        ];

        function enterGuestMode() {
            isGuestMode = true;
            userType = null;
            updateNavigation('guestDashboard');
            showScreen('guestDashboard');
        }

        function loginAs(type) {
            userType = type;
            isGuestMode = false;
            
            if (type === 'buyer') {
                updateNavigation('buyerDashboard');
                showScreen('buyerDashboard');
            } else if (type === 'farmer') {
                updateNavigation('farmerDashboard');
                showScreen('farmerDashboard');
            }
        }

        function selectUserType(type) {
            selectedUserType = type;
            
            // Update button styles
            document.querySelectorAll('.user-type-btn').forEach(btn => {
                btn.classList.remove('border-blue-400', 'border-green-400', 'bg-blue-50', 'bg-green-50');
                btn.classList.add('border-gray-200');
            });
            
            const selectedBtn = document.getElementById(`${type}TypeBtn`);
            if (type === 'buyer') {
                selectedBtn.classList.add('border-blue-400', 'bg-blue-50');
            } else {
                selectedBtn.classList.add('border-green-400', 'bg-green-50');
            }
            
            // Show registration fields
            document.getElementById('registrationFields').classList.remove('hidden');
        }

        function completeRegistration() {
            if (!selectedUserType) {
                alert('Please select whether you are a buyer or farmer');
                return;
            }
            
            // Simulate registration success
            userType = selectedUserType;
            isGuestMode = false;
            
            if (userType === 'buyer') {
                updateNavigation('buyerDashboard');
                showScreen('buyerDashboard');
            } else if (userType === 'farmer') {
                updateNavigation('farmerDashboard');
                showScreen('farmerDashboard');
            }
        }

        function showScreen(screenId) {
            // Add current screen to history
            if (currentScreen !== screenId) {
                screenHistory.push(currentScreen);
            }
            
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show selected screen
            setTimeout(() => {
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.add('active');
                    currentScreen = screenId;
                    updateHeaderTitle(screenId);
                    updateBackButton(screenId);
                    updateNavigation(screenId);
                    
                    // Load products if browsing products
                    if (screenId === 'productBrowse') {
                        loadProducts();
                    }
                }
            }, 100);
        }

        function goBack() {
            // Always navigate to appropriate home screen based on user type
            if (userType === 'buyer') {
                showScreen('buyerDashboard');
            } else if (userType === 'farmer') {
                showScreen('farmerDashboard');
            } else if (isGuestMode) {
                showScreen('guestDashboard');
            } else {
                showScreen('welcomeScreen');
            }
        }

        function updateBackButton(screenId) {
            const backBtn = document.getElementById('backBtn');
            const homeScreens = ['welcomeScreen', 'guestDashboard', 'buyerDashboard', 'farmerDashboard'];
            
            if (homeScreens.includes(screenId)) {
                backBtn.classList.add('hidden');
            } else {
                backBtn.classList.remove('hidden');
            }
        }

        function updateHeaderTitle(screenId) {
            const subtitle = document.getElementById('headerSubtitle');
            const titles = {
                'welcomeScreen': 'Smart Agriculture Platform',
                'guestDashboard': 'Guest Mode - Limited Access',
                'productBrowse': 'Browse Products',
                'aiChatbot': 'AI Assistant',
                'educationalContent': 'Learning Center',
                'soilGuide': 'Soil & Fertilizer Guide'
            };
            subtitle.textContent = titles[screenId] || 'Smart Agriculture Platform';
        }

        function updateNavigation(screenId) {
            const bottomNav = document.getElementById('bottomNav');
            
            // Hide bottom nav on welcome and auth screens
            if (screenId === 'welcomeScreen' || screenId === 'authScreen') {
                bottomNav.classList.add('hidden');
                return;
            } else {
                bottomNav.classList.remove('hidden');
            }
            
            // Hide all navigation bars
            document.getElementById('guestNav').classList.add('hidden');
            document.getElementById('buyerNav').classList.add('hidden');
            document.getElementById('farmerNav').classList.add('hidden');
            
            // Show appropriate navigation based on user type
            let activeNav = 'guestNav';
            let navMap = {};
            
            if (userType === 'buyer') {
                activeNav = 'buyerNav';
                document.getElementById('buyerNav').classList.remove('hidden');
                navMap = {
                    'buyerDashboard': 0,
                    'productBrowse': 1,
                    'buyerCart': 2,
                    'buyerOrders': 3
                };
            } else if (userType === 'farmer') {
                activeNav = 'farmerNav';
                document.getElementById('farmerNav').classList.remove('hidden');
                navMap = {
                    'farmerDashboard': 0,
                    'farmerProducts': 1,
                    'weatherInfo': 2,
                    'helpCenter': 3,
                    'farmerOrders': 4
                };
            } else {
                // Guest mode
                document.getElementById('guestNav').classList.remove('hidden');
                navMap = {
                    'guestDashboard': 0,
                    'productBrowse': 1,
                    'educationalContent': 2,
                    'aiChatbot': 3
                };
            }
            
            // Update active navigation button
            const activeNavElement = document.getElementById(activeNav);
            if (activeNavElement) {
                activeNavElement.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('text-agri-green');
                    btn.querySelector('svg').classList.remove('text-agri-green');
                    btn.querySelector('span').classList.remove('text-agri-green');
                });

                const activeIndex = navMap[screenId];
                if (activeIndex !== undefined) {
                    const activeBtn = activeNavElement.querySelectorAll('.nav-btn')[activeIndex];
                    if (activeBtn) {
                        activeBtn.classList.add('text-agri-green');
                        activeBtn.querySelector('svg').classList.add('text-agri-green');
                        activeBtn.querySelector('span').classList.add('text-agri-green');
                    }
                }
            }
            
            // Update header actions
            updateHeaderActions();
        }

        function updateHeaderActions() {
            const headerActions = document.getElementById('headerActions');
            
            if (currentScreen === 'welcomeScreen' || currentScreen === 'authScreen') {
                headerActions.innerHTML = '';
            } else if (isGuestMode || !userType) {
                headerActions.innerHTML = `
                    <button onclick="showOptionsMenu()" class="p-2 rounded-xl hover:bg-gray-100 transition-colors">
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zM12 13a1 1 0 110-2 1 1 0 010 2zM12 20a1 1 0 110-2 1 1 0 010 2z"></path>
                        </svg>
                    </button>
                `;
            } else {
                headerActions.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <button onclick="showNotifications()" class="p-2 bg-white rounded-xl border border-gray-200 relative">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM11 19H6.5A2.5 2.5 0 014 16.5v-9A2.5 2.5 0 016.5 5h11A2.5 2.5 0 0120 7.5V11"></path>
                            </svg>
                            <span class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">${userType === 'farmer' ? '15' : '2'}</span>
                        </button>
                        <button onclick="showOptionsMenu()" class="p-2 rounded-xl hover:bg-gray-100 transition-colors">
                            <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zM12 13a1 1 0 110-2 1 1 0 010 2zM12 20a1 1 0 110-2 1 1 0 010 2z"></path>
                            </svg>
                        </button>
                    </div>
                `;
            }
        }

        function switchTab(tabType) {
            const signinTab = document.getElementById('signinTab');
            const registerTab = document.getElementById('registerTab');
            const signinForm = document.getElementById('signinForm');
            const registerForm = document.getElementById('registerForm');

            if (tabType === 'signin') {
                signinTab.classList.add('bg-white', 'text-agri-green', 'shadow-sm');
                signinTab.classList.remove('text-gray-600');
                registerTab.classList.remove('bg-white', 'text-agri-green', 'shadow-sm');
                registerTab.classList.add('text-gray-600');
                signinForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            } else {
                registerTab.classList.add('bg-white', 'text-agri-green', 'shadow-sm');
                registerTab.classList.remove('text-gray-600');
                signinTab.classList.remove('bg-white', 'text-agri-green', 'shadow-sm');
                signinTab.classList.add('text-gray-600');
                registerForm.classList.remove('hidden');
                signinForm.classList.add('hidden');
            }
        }

        function showDashboard() {
            // This would normally check user type and show appropriate dashboard
            // For demo purposes, showing guest dashboard
            enterGuestMode();
        }

        // Product filtering and search
        function filterProducts() {
            const searchTerm = document.getElementById('productSearch')?.value.toLowerCase() || '';
            const categoryFilter = document.getElementById('categoryFilter')?.value || '';
            const locationFilter = document.getElementById('locationFilter')?.value || '';
            const sortFilter = document.getElementById('sortFilter')?.value || 'newest';
            
            let filteredProducts = sampleProducts.filter(product => {
                const matchesCategory = !categoryFilter || product.category === categoryFilter;
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                                    product.description.toLowerCase().includes(searchTerm);
                const matchesLocation = !locationFilter || product.location === locationFilter;
                
                return matchesCategory && matchesSearch && matchesLocation;
            });

            // Sort products
            switch(sortFilter) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
                default:
                    // newest first (default order)
                    break;
            }

            displayProducts(filteredProducts);
        }

        function displayProducts(productsToShow) {
            const grid = document.getElementById('productsGrid');
            if (!grid) return;

            grid.innerHTML = productsToShow.map(product => `
                <div class="card-professional p-6 rounded-2xl cursor-pointer" onclick="showProductModal('${product.id}')">
                    <div class="flex space-x-4">
                        <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-4xl flex-shrink-0">${product.emoji}</div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-start justify-between mb-2">
                                <h3 class="font-semibold text-lg text-gray-900">${product.name}</h3>
                                <span class="text-2xl font-bold text-agri-green">‡ß≥${product.price}/kg</span>
                            </div>
                            <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4 text-sm text-gray-500">
                                    <span class="capitalize">üìç ${product.location}</span>
                                    <span>üì¶ Available</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <span class="text-yellow-400">‚≠ê</span>
                                    <span class="text-sm font-medium">${product.rating}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadProducts() {
            displayProducts(sampleProducts);
        }

        function showProductModal(productId) {
            const product = sampleProducts.find(p => p.id == productId);
            if (!product) return;

            const modal = document.getElementById('productModal');
            const content = document.getElementById('modalContent');
            
            // Update modal content
            content.innerHTML = `
                <div class="p-6">
                    <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                    
                    <div class="text-center mb-6">
                        <div class="w-32 h-32 bg-gradient-to-br from-green-100 to-green-200 rounded-3xl flex items-center justify-center text-6xl mx-auto mb-4 shadow-lg">${product.emoji}</div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">${product.name}</h2>
                        <p class="text-gray-600">${product.description}</p>
                        <div class="flex items-center justify-center space-x-2 mt-2">
                            <span class="text-yellow-400">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span class="text-sm text-gray-600">(${product.rating} rating)</span>
                        </div>
                    </div>

                    <div class="space-y-4 mb-6">
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Price per kg</span>
                            <span class="font-bold text-2xl text-agri-green">‡ß≥${product.price}</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Available</span>
                            <span class="font-semibold">500 kg</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Location</span>
                            <span class="font-semibold capitalize">üìç ${product.location}</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Farmer</span>
                            <span class="font-semibold">Local Farmer</span>
                        </div>
                        <div class="flex justify-between items-center py-3">
                            <span class="text-gray-600">Harvested</span>
                            <span class="font-semibold">2 days ago</span>
                        </div>
                    </div>

                    <div class="bg-blue-50 p-4 rounded-xl border border-blue-200 mb-6">
                        <p class="text-sm text-blue-700">
                            <span class="font-medium">Guest Mode:</span> To purchase products, please create an account or sign in.
                        </p>
                    </div>

                    <div class="flex space-x-4">
                        <button onclick="closeProductModal()" class="flex-1 bg-gray-100 text-gray-700 py-4 px-6 rounded-2xl font-semibold hover:bg-gray-200 transition-colors">
                            Close
                        </button>
                        <button onclick="showScreen('authScreen')" class="flex-1 btn-primary text-white py-4 px-6 rounded-2xl font-semibold shadow-xl">
                            Sign In to Purchase
                        </button>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                content.style.transform = 'translateY(0)';
            }, 10);
        }

        function closeProductModal() {
            const modal = document.getElementById('productModal');
            const content = document.getElementById('modalContent');
            content.style.transform = 'translateY(100%)';
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 500);
        }

        // Educational content functions
        function showContentType(type) {
            // Update tabs
            document.querySelectorAll('[id$="Tab"]').forEach(tab => {
                tab.classList.remove('bg-white', 'text-agri-green', 'shadow-sm');
                tab.classList.add('text-gray-600');
            });

            document.getElementById(`${type}Tab`).classList.add('bg-white', 'text-agri-green', 'shadow-sm');
            document.getElementById(`${type}Tab`).classList.remove('text-gray-600');

            // Show/hide content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });

            const contentMap = {
                'articles': 'articlesContent',
                'videos': 'videosContent',
                'soil': 'soilContent'
            };

            const targetContent = document.getElementById(contentMap[type]);
            if (targetContent) {
                targetContent.classList.remove('hidden');
            }
        }

        // AI Chatbot Functions
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    const responses = [
                        '‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§ ‡¶è‡¶á ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø‡•§',
                        '‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡•§ ‡¶Ü‡¶∞‡¶ì ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ö‡¶æ‡¶®?',
                        '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ì ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶è‡¶á ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂ ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡•§',
                        '‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶ú‡ßç‡¶û‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶§‡ßá, ‡¶è‡¶á ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶è‡¶≠‡¶æ‡¶¨‡ßá...',
                        '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶á ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶∞‡¶ì ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶∏‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomResponse, 'ai');
                }, 1000);
            }
        }

        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function addMessage(message, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message mb-4';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3 justify-end">
                        <div class="bg-agri-green text-white p-3 rounded-2xl rounded-tr-sm max-w-xs">
                            <p class="text-sm">${message}</p>
                        </div>
                        <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-white text-sm">U</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-agri-green rounded-full flex items-center justify-center text-white text-sm">AI</div>
                        <div class="bg-gray-100 p-3 rounded-2xl rounded-tl-sm max-w-xs">
                            <p class="text-sm">${message}</p>
                        </div>
                    </div>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Additional functionality for buyer/farmer features
        function showNotifications() {
            const notifications = userType === 'farmer' ? [
                { type: 'order', title: 'New Order Received', message: 'Order #1236 for Basmati Rice - 10kg', time: '2 min ago' },
                { type: 'weather', title: 'Weather Alert', message: 'Rain expected in next 3 days', time: '1 hour ago' },
                { type: 'payment', title: 'Payment Received', message: '‡ß≥850 for Order #1234', time: '3 hours ago' },
                { type: 'order', title: 'Order Shipped', message: 'Order #1235 has been delivered', time: '1 day ago' },
                { type: 'system', title: 'Product Listed', message: 'Your Organic Tomatoes is now live', time: '2 days ago' }
            ] : [
                { type: 'order', title: 'Order Delivered', message: 'Your Basmati Rice order has arrived', time: '1 hour ago' },
                { type: 'offer', title: 'Special Offer', message: '20% off on fresh vegetables', time: '3 hours ago' }
            ];

            const notificationHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeNotifications()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Notifications</h3>
                        <div class="space-y-3 max-h-96 overflow-y-auto">
                            ${notifications.map(notif => `
                                <div class="p-4 bg-gray-50 rounded-xl">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-10 h-10 bg-${notif.type === 'order' ? 'blue' : notif.type === 'weather' ? 'yellow' : notif.type === 'payment' ? 'green' : 'gray'}-100 rounded-full flex items-center justify-center text-lg">
                                            ${notif.type === 'order' ? 'üì¶' : notif.type === 'weather' ? 'üå§Ô∏è' : notif.type === 'payment' ? 'üí∞' : notif.type === 'offer' ? 'üéâ' : 'üì¢'}
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-gray-900">${notif.title}</h4>
                                            <p class="text-sm text-gray-600 mt-1">${notif.message}</p>
                                            <p class="text-xs text-gray-500 mt-2">${notif.time}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <button onclick="closeNotifications()" class="w-full mt-6 bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', notificationHtml);
        }

        function closeNotifications() {
            const notificationModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (notificationModal) {
                notificationModal.remove();
            }
        }

        function showProfile() {
            const profileData = userType === 'farmer' ? {
                name: '‡¶∞‡¶π‡¶ø‡¶Æ ‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶®',
                type: 'Farmer',
                location: 'Dhaka, Bangladesh',
                phone: '+880 1712-345678',
                email: 'rahim.farmer@gmail.com',
                joinDate: 'January 2023',
                stats: [
                    { label: 'Products Listed', value: '8' },
                    { label: 'Orders Completed', value: '156' },
                    { label: 'Rating', value: '4.8 ‚≠ê' }
                ]
            } : {
                name: '‡¶´‡¶æ‡¶§‡¶ø‡¶Æ‡¶æ ‡¶ñ‡¶æ‡¶§‡ßÅ‡¶®',
                type: 'Buyer',
                location: 'Chittagong, Bangladesh',
                phone: '+880 1812-345678',
                email: 'fatima.buyer@gmail.com',
                joinDate: 'March 2023',
                stats: [
                    { label: 'Orders Placed', value: '24' },
                    { label: 'Money Saved', value: '‡ß≥2,450' },
                    { label: 'Favorite Products', value: '12' }
                ]
            };

            const profileHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeProfile()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        
                        <div class="text-center mb-6">
                            <div class="w-24 h-24 bg-gradient-to-br from-agri-green to-agri-light rounded-full flex items-center justify-center text-3xl text-white mx-auto mb-4 shadow-lg">
                                ${userType === 'farmer' ? 'üåæ' : 'üõí'}
                            </div>
                            <h3 class="text-xl font-bold text-gray-900">${profileData.name}</h3>
                            <p class="text-gray-600">${profileData.type} ‚Ä¢ ${profileData.location}</p>
                            <p class="text-sm text-gray-500 mt-1">Member since ${profileData.joinDate}</p>
                        </div>

                        <div class="space-y-4 mb-6">
                            <div class="grid grid-cols-3 gap-4">
                                ${profileData.stats.map(stat => `
                                    <div class="text-center p-3 bg-gray-50 rounded-xl">
                                        <div class="font-bold text-lg text-gray-900">${stat.value}</div>
                                        <div class="text-xs text-gray-600">${stat.label}</div>
                                    </div>
                                `).join('')}
                            </div>
                            
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                                    <div class="text-xl">üìû</div>
                                    <div>
                                        <div class="font-medium text-gray-900">Phone</div>
                                        <div class="text-sm text-gray-600">${profileData.phone}</div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-xl">
                                    <div class="text-xl">üìß</div>
                                    <div>
                                        <div class="font-medium text-gray-900">Email</div>
                                        <div class="text-sm text-gray-600">${profileData.email}</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-3">
                            <button onclick="editProfile()" class="w-full bg-agri-green text-white py-3 px-6 rounded-xl font-medium hover:bg-agri-dark transition-colors">
                                Edit Profile
                            </button>
                            <button onclick="closeProfile()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', profileHtml);
        }

        function closeProfile() {
            const profileModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (profileModal) {
                profileModal.remove();
            }
        }

        function editProfile() {
            closeProfile();
            alert('Edit Profile feature - would show form to update profile information');
        }

        function logout() {
            if (confirm('Are you sure you want to sign out?')) {
                userType = null;
                isGuestMode = false;
                screenHistory = [];
                closeProfile();
                showScreen('welcomeScreen');
            }
        }

        function confirmSignOut() {
            if (confirm('Are you sure you want to sign out?')) {
                // Reset all user data
                userType = null;
                isGuestMode = false;
                screenHistory = [];
                
                // Close any open menus
                closeOptionsMenu();
                
                // Navigate to welcome screen
                currentScreen = 'welcomeScreen';
                
                // Hide all screens first
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.remove('active');
                });
                
                // Show welcome screen
                setTimeout(() => {
                    const welcomeScreen = document.getElementById('welcomeScreen');
                    if (welcomeScreen) {
                        welcomeScreen.classList.add('active');
                        updateHeaderTitle('welcomeScreen');
                        updateBackButton('welcomeScreen');
                        updateNavigation('welcomeScreen');
                    }
                }, 100);
            }
        }

        function showOptionsMenu() {
            let menuOptions = '';
            
            if (isGuestMode || !userType) {
                menuOptions = `
                    <button onclick="showScreen('authScreen'); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                        </svg>
                        <span>Sign In</span>
                    </button>
                    <button onclick="showScreen('authScreen'); switchTab('register'); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                        </svg>
                        <span>Create Account</span>
                    </button>
                    <div class="border-t border-gray-200"></div>
                    <button onclick="showAbout(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>About AgriXpert</span>
                    </button>
                    <button onclick="showHelp(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>Help & Support</span>
                    </button>
                `;
            } else {
                menuOptions = `
                    <button onclick="showProfile(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span>Profile</span>
                    </button>
                    <button onclick="showSettings(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>Settings</span>
                    </button>
                    <div class="border-t border-gray-200"></div>
                    <button onclick="showAbout(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>About AgriXpert</span>
                    </button>
                    <button onclick="showHelp(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-gray-50 transition-colors flex items-center space-x-3">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>Help & Support</span>
                    </button>
                    <div class="border-t border-gray-200"></div>
                    <button onclick="confirmSignOut(); closeOptionsMenu()" class="w-full text-left p-4 hover:bg-red-50 transition-colors flex items-center space-x-3 text-red-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        <span>Sign Out</span>
                    </button>
                `;
            }

            const menuHtml = `
                <div class="fixed inset-0 bg-black/20 backdrop-blur-sm z-50" onclick="closeOptionsMenu()">
                    <div class="absolute top-16 right-4 bg-white rounded-2xl shadow-xl border border-gray-200 w-56 max-w-xs dropdown-enter" onclick="event.stopPropagation()">
                        ${menuOptions}
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', menuHtml);
        }

        function closeOptionsMenu() {
            const optionsMenu = document.querySelector('.fixed.inset-0.bg-black\\/20');
            if (optionsMenu) {
                optionsMenu.remove();
            }
        }

        function showSettings() {
            const settingsHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeSettings()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        <h3 class="text-xl font-bold text-gray-900 mb-6">Settings</h3>
                        
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-xl">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="font-medium text-gray-900">Notifications</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" checked class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-agri-green"></div>
                                    </label>
                                </div>
                                <p class="text-sm text-gray-600">Receive order updates and farming tips</p>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-xl">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="font-medium text-gray-900">Language</span>
                                    <select class="bg-white border border-gray-300 rounded-lg px-3 py-1 text-sm">
                                        <option>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</option>
                                        <option>English</option>
                                    </select>
                                </div>
                                <p class="text-sm text-gray-600">Choose your preferred language</p>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-xl">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="font-medium text-gray-900">Location Services</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" checked class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-agri-green"></div>
                                    </label>
                                </div>
                                <p class="text-sm text-gray-600">Find nearby farmers and services</p>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-xl">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="font-medium text-gray-900">Dark Mode</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-agri-green"></div>
                                    </label>
                                </div>
                                <p class="text-sm text-gray-600">Switch to dark theme</p>
                            </div>
                            
                            <div class="p-4 bg-gray-50 rounded-xl">
                                <div class="flex items-center justify-between mb-3">
                                    <span class="font-medium text-gray-900">Auto-sync</span>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" checked class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-agri-green"></div>
                                    </label>
                                </div>
                                <p class="text-sm text-gray-600">Automatically sync data when online</p>
                            </div>
                        </div>
                        
                        <div class="mt-6 space-y-3">
                            <button onclick="saveSettings()" class="w-full bg-agri-green text-white py-3 px-6 rounded-xl font-medium hover:bg-agri-dark transition-colors">
                                Save Settings
                            </button>
                            <button onclick="closeSettings()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', settingsHtml);
        }

        function closeSettings() {
            const settingsModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (settingsModal) {
                settingsModal.remove();
            }
        }

        function saveSettings() {
            closeSettings();
            alert('Settings saved successfully!');
        }

        function showAbout() {
            const aboutHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeAbout()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 gradient-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg">
                                <span class="text-white font-bold text-2xl">A</span>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 mb-2">AgriXpert</h3>
                            <p class="text-gray-600">Smart Agriculture Platform</p>
                            <p class="text-sm text-gray-500 mt-2">Version 1.0.0</p>
                        </div>

                        <div class="space-y-4 mb-6">
                            <div class="p-4 bg-green-50 rounded-xl border border-green-200">
                                <h4 class="font-semibold text-green-800 mb-2">üåæ Our Mission</h4>
                                <p class="text-sm text-green-700">Connecting farmers directly with buyers, providing AI-powered farming guidance, and promoting sustainable agriculture in Bangladesh.</p>
                            </div>
                            
                            <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                <h4 class="font-semibold text-blue-800 mb-2">üì± Features</h4>
                                <ul class="text-sm text-blue-700 space-y-1">
                                    <li>‚Ä¢ Direct farmer-to-buyer marketplace</li>
                                    <li>‚Ä¢ AI-powered farming assistant</li>
                                    <li>‚Ä¢ Weather forecasting & alerts</li>
                                    <li>‚Ä¢ Educational content in Bengali</li>
                                    <li>‚Ä¢ Farming calendar & planning tools</li>
                                </ul>
                            </div>
                            
                            <div class="p-4 bg-orange-50 rounded-xl border border-orange-200">
                                <h4 class="font-semibold text-orange-800 mb-2">ü§ù Contact Us</h4>
                                <div class="text-sm text-orange-700 space-y-1">
                                    <p>üìß support@agrixpert.com</p>
                                    <p>üìû +880 1700-123456</p>
                                    <p>üåê www.agrixpert.com</p>
                                </div>
                            </div>
                            
                            <div class="text-center text-xs text-gray-500 pt-4 border-t border-gray-200">
                                <p>¬© 2024 AgriXpert. All rights reserved.</p>
                                <p class="mt-1">Made with ‚ù§Ô∏è for Bangladeshi farmers</p>
                            </div>
                        </div>

                        <button onclick="closeAbout()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', aboutHtml);
        }

        function closeAbout() {
            const aboutModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (aboutModal) {
                aboutModal.remove();
            }
        }

        function showHelp() {
            const helpHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeHelpModal()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        <h3 class="text-xl font-bold text-gray-900 mb-6">Help & Support</h3>
                        
                        <div class="space-y-4 mb-6">
                            <button onclick="showHelpSection('faq')" class="w-full p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors text-left">
                                <div class="flex items-center space-x-3">
                                    <div class="text-2xl">‚ùì</div>
                                    <div>
                                        <h4 class="font-medium text-gray-900">Frequently Asked Questions</h4>
                                        <p class="text-sm text-gray-600">Common questions and answers</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="showHelpSection('guide')" class="w-full p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors text-left">
                                <div class="flex items-center space-x-3">
                                    <div class="text-2xl">üìñ</div>
                                    <div>
                                        <h4 class="font-medium text-gray-900">User Guide</h4>
                                        <p class="text-sm text-gray-600">Step-by-step tutorials</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="showScreen('aiChatbot'); closeHelpModal()" class="w-full p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors text-left">
                                <div class="flex items-center space-x-3">
                                    <div class="text-2xl">ü§ñ</div>
                                    <div>
                                        <h4 class="font-medium text-gray-900">AI Assistant</h4>
                                        <p class="text-sm text-gray-600">Get instant help from our AI</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="contactSupport()" class="w-full p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors text-left border border-green-200">
                                <div class="flex items-center space-x-3">
                                    <div class="text-2xl">üìû</div>
                                    <div>
                                        <h4 class="font-medium text-green-800">Contact Support</h4>
                                        <p class="text-sm text-green-700">Speak with our support team</p>
                                    </div>
                                </div>
                            </button>
                            
                            <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                <h4 class="font-semibold text-blue-800 mb-2">üìß Email Support</h4>
                                <p class="text-sm text-blue-700 mb-2">support@agrixpert.com</p>
                                <p class="text-xs text-blue-600">We typically respond within 24 hours</p>
                            </div>
                            
                            <div class="p-4 bg-yellow-50 rounded-xl border border-yellow-200">
                                <h4 class="font-semibold text-yellow-800 mb-2">‚è∞ Support Hours</h4>
                                <p class="text-sm text-yellow-700">Monday - Friday: 9:00 AM - 6:00 PM</p>
                                <p class="text-sm text-yellow-700">Saturday: 10:00 AM - 4:00 PM</p>
                                <p class="text-sm text-yellow-700">Sunday: Closed</p>
                            </div>
                        </div>

                        <button onclick="closeHelpModal()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', helpHtml);
        }

        function closeHelpModal() {
            const helpModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (helpModal) {
                helpModal.remove();
            }
        }

        function showHelpSection(section) {
            closeHelpModal();
            if (section === 'faq') {
                showScreen('helpCenter');
            } else if (section === 'guide') {
                showScreen('educationalContent');
            }
        }

        function contactSupport() {
            closeHelpModal();
            const contactHtml = `
                <div class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end" onclick="closeContactSupport()">
                    <div class="bg-white w-full max-w-md mx-auto rounded-t-3xl p-6" onclick="event.stopPropagation()">
                        <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                        <h3 class="text-xl font-bold text-gray-900 mb-6">Contact Support</h3>
                        
                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
                                <input type="text" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:border-agri-green" placeholder="Enter your name">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:border-agri-green" placeholder="your@email.com">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Issue Type</label>
                                <select class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:border-agri-green">
                                    <option>Select issue type</option>
                                    <option>Account Issues</option>
                                    <option>Payment Problems</option>
                                    <option>Technical Support</option>
                                    <option>Product Questions</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Message</label>
                                <textarea class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:border-agri-green h-24" placeholder="Describe your issue or question..."></textarea>
                            </div>
                        </div>
                        
                        <div class="space-y-3">
                            <button onclick="submitSupportRequest()" class="w-full bg-agri-green text-white py-3 px-6 rounded-xl font-medium hover:bg-agri-dark transition-colors">
                                Send Message
                            </button>
                            <button onclick="closeContactSupport()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-medium hover:bg-gray-200 transition-colors">
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', contactHtml);
        }

        function closeContactSupport() {
            const contactModal = document.querySelector('.fixed.inset-0.bg-black\\/60');
            if (contactModal) {
                contactModal.remove();
            }
        }

        function submitSupportRequest() {
            closeContactSupport();
            alert('Support request submitted successfully! We will get back to you within 24 hours.');
        }

        function updateQuantity(product, change) {
            alert(`Quantity updated for ${product} by ${change}`);
        }

        function removeFromCart(product) {
            alert(`${product} removed from cart`);
        }

        function proceedToCheckout() {
            alert('Proceeding to checkout - would show payment options');
        }

        function trackOrder(orderId) {
            alert(`Tracking order ${orderId} - would show delivery status`);
        }

        function reorderItems(orderId) {
            alert(`Reordering items from order ${orderId}`);
        }

        function updateOrderStatus(orderId, status) {
            alert(`Order ${orderId} status updated to: ${status}`);
        }

        function editProduct(productId) {
            alert(`Editing product: ${productId}`);
        }

        function toggleProductStatus(productId) {
            alert(`Toggling status for product: ${productId}`);
        }

        function saveProduct() {
            alert('Product saved successfully! It will be reviewed and listed.');
        }

        // Weather and Help Center Functions
        function updateWeatherLocation() {
            const select = document.querySelector('#weatherInfo select');
            const location = select.value;
            alert(`Weather location updated to ${location}. Weather data will refresh for your new location.`);
        }

        function showNearbyServices(serviceType) {
            const servicesList = document.getElementById('nearbyServicesList');
            const servicesTitle = document.getElementById('servicesTitle');
            const servicesContent = document.getElementById('servicesContent');
            
            const services = {
                fertilizer: [
                    { name: 'Green Valley Fertilizers', address: 'Dhanmondi, Dhaka', phone: '01712-345678', distance: '2.3 km' },
                    { name: 'Agro Care Center', address: 'Gulshan, Dhaka', phone: '01812-345679', distance: '3.1 km' },
                    { name: 'Farmers Choice', address: 'Uttara, Dhaka', phone: '01912-345680', distance: '4.5 km' }
                ],
                agriculture: [
                    { name: 'DAE Office Dhaka', address: 'Khamarbari, Dhaka', phone: '02-9112233', distance: '1.8 km' },
                    { name: 'BADC Seed Store', address: 'Tejgaon, Dhaka', phone: '02-8112244', distance: '2.7 km' },
                    { name: 'Agriculture Information Service', address: 'Sher-e-Bangla Nagar', phone: '02-9110055', distance: '3.2 km' }
                ],
                veterinary: [
                    { name: 'Animal Hospital Dhaka', address: 'Mohammadpur, Dhaka', phone: '01712-987654', distance: '2.1 km' },
                    { name: 'Livestock Care Center', address: 'Mirpur, Dhaka', phone: '01812-987655', distance: '3.8 km' },
                    { name: 'Vet Clinic Plus', address: 'Banani, Dhaka', phone: '01912-987656', distance: '4.2 km' }
                ],
                equipment: [
                    { name: 'Tractor Rental Service', address: 'Savar, Dhaka', phone: '01712-111222', distance: '15.3 km' },
                    { name: 'Farm Equipment Hub', address: 'Gazipur', phone: '01812-111223', distance: '18.7 km' },
                    { name: 'Agro Machinery Rent', address: 'Manikganj', phone: '01912-111224', distance: '22.1 km' }
                ]
            };

            const serviceData = services[serviceType] || [];
            const titles = {
                fertilizer: 'Nearby Fertilizer Shops',
                agriculture: 'Agriculture Offices',
                veterinary: 'Veterinary Services',
                equipment: 'Equipment Rental'
            };

            servicesTitle.textContent = titles[serviceType];
            servicesContent.innerHTML = serviceData.map(service => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex-1">
                        <h4 class="font-medium text-gray-900">${service.name}</h4>
                        <p class="text-sm text-gray-600">${service.address}</p>
                        <p class="text-sm text-blue-600">${service.phone}</p>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-900">${service.distance}</div>
                        <button onclick="callService('${service.phone}')" class="mt-1 bg-agri-green text-white px-3 py-1 rounded-lg text-sm">Call</button>
                    </div>
                </div>
            `).join('');

            servicesList.classList.remove('hidden');
        }

        function hideNearbyServices() {
            document.getElementById('nearbyServicesList').classList.add('hidden');
        }

        function callService(phone) {
            alert(`Calling ${phone}...`);
        }

        function callEmergency(number) {
            alert(`Calling emergency number ${number}...`);
        }

        function toggleFAQ(faqId) {
            const faq = document.getElementById(faqId);
            if (faq.classList.contains('hidden')) {
                // Hide all other FAQs
                document.querySelectorAll('[id^="faq"]').forEach(f => f.classList.add('hidden'));
                faq.classList.remove('hidden');
            } else {
                faq.classList.add('hidden');
            }
        }

        // Enhanced product modal for buyers vs guests
        function showProductModal(productId) {
            const product = sampleProducts.find(p => p.id == productId);
            if (!product) return;

            const modal = document.getElementById('productModal');
            const content = document.getElementById('modalContent');
            
            let actionButtons = '';
            
            if (isGuestMode || !userType) {
                actionButtons = `
                    <div class="bg-blue-50 p-4 rounded-xl border border-blue-200 mb-6">
                        <p class="text-sm text-blue-700">
                            <span class="font-medium">Guest Mode:</span> To purchase products, please create an account or sign in.
                        </p>
                    </div>
                    <div class="flex space-x-4">
                        <button onclick="closeProductModal()" class="flex-1 bg-gray-100 text-gray-700 py-4 px-6 rounded-2xl font-semibold hover:bg-gray-200 transition-colors">
                            Close
                        </button>
                        <button onclick="showScreen('authScreen')" class="flex-1 btn-primary text-white py-4 px-6 rounded-2xl font-semibold shadow-xl">
                            Sign In to Purchase
                        </button>
                    </div>
                `;
            } else if (userType === 'buyer') {
                actionButtons = `
                    <div class="flex space-x-4 mb-4">
                        <div class="flex items-center space-x-3 flex-1">
                            <button onclick="updateQuantity('${product.name}', -1)" class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg font-bold">-</button>
                            <span class="font-medium text-lg">1 kg</span>
                            <button onclick="updateQuantity('${product.name}', 1)" class="w-10 h-10 bg-agri-green text-white rounded-full flex items-center justify-center text-lg font-bold">+</button>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-600">Total</div>
                            <div class="font-bold text-xl text-agri-green">‡ß≥${product.price}</div>
                        </div>
                    </div>
                    <div class="flex space-x-4">
                        <button onclick="addToCart('${product.id}')" class="flex-1 bg-orange-100 text-orange-800 py-4 px-6 rounded-2xl font-semibold hover:bg-orange-200 transition-colors">
                            Add to Cart
                        </button>
                        <button onclick="buyNow('${product.id}')" class="flex-1 btn-primary text-white py-4 px-6 rounded-2xl font-semibold shadow-xl">
                            Buy Now
                        </button>
                    </div>
                `;
            } else {
                actionButtons = `
                    <div class="bg-green-50 p-4 rounded-xl border border-green-200 mb-6">
                        <p class="text-sm text-green-700">
                            <span class="font-medium">Farmer View:</span> This is how your product appears to buyers.
                        </p>
                    </div>
                    <button onclick="closeProductModal()" class="w-full bg-gray-100 text-gray-700 py-4 px-6 rounded-2xl font-semibold hover:bg-gray-200 transition-colors">
                        Close Preview
                    </button>
                `;
            }
            
            // Update modal content
            content.innerHTML = `
                <div class="p-6">
                    <div class="w-12 h-1.5 bg-gray-300 rounded-full mx-auto mb-6"></div>
                    
                    <div class="text-center mb-6">
                        <div class="w-32 h-32 bg-gradient-to-br from-green-100 to-green-200 rounded-3xl flex items-center justify-center text-6xl mx-auto mb-4 shadow-lg">${product.emoji}</div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">${product.name}</h2>
                        <p class="text-gray-600">${product.description}</p>
                        <div class="flex items-center justify-center space-x-2 mt-2">
                            <span class="text-yellow-400">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span class="text-sm text-gray-600">(${product.rating} rating)</span>
                        </div>
                    </div>

                    <div class="space-y-4 mb-6">
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Price per kg</span>
                            <span class="font-bold text-2xl text-agri-green">‡ß≥${product.price}</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Available</span>
                            <span class="font-semibold">500 kg</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Location</span>
                            <span class="font-semibold capitalize">üìç ${product.location}</span>
                        </div>
                        <div class="flex justify-between items-center py-3 border-b border-gray-100">
                            <span class="text-gray-600">Farmer</span>
                            <span class="font-semibold">Local Farmer</span>
                        </div>
                        <div class="flex justify-between items-center py-3">
                            <span class="text-gray-600">Harvested</span>
                            <span class="font-semibold">2 days ago</span>
                        </div>
                    </div>

                    ${actionButtons}
                </div>
            `;
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                content.style.transform = 'translateY(0)';
            }, 10);
        }

        function addToCart(productId) {
            alert('Product added to cart!');
            closeProductModal();
        }

        function buyNow(productId) {
            alert('Proceeding to checkout for immediate purchase');
            closeProductModal();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showScreen('welcomeScreen');
            
            // Add enter key support for chat
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            // Initialize educational content
            showContentType('articles');
        });

        // Additional missing functions
        function addToWishlist(productId) {
            alert(`Product ${productId} added to wishlist!`);
        }

        function shareProduct(productId) {
            const product = sampleProducts.find(p => p.id == productId);
            if (product) {
                if (navigator.share) {
                    navigator.share({
                        title: product.name,
                        text: `Check out this ${product.name} for ‡ß≥${product.price}/kg`,
                        url: window.location.href
                    });
                } else {
                    alert(`Share: ${product.name} - ‡ß≥${product.price}/kg`);
                }
            }
        }

        function reportProduct(productId) {
            alert('Product reported. Our team will review it within 24 hours.');
        }

        function viewFarmerProfile(farmerId) {
            alert(`Viewing farmer profile: ${farmerId}`);
        }

        function messagesFarmer(farmerId) {
            alert(`Opening chat with farmer: ${farmerId}`);
        }

        function rateProduct(productId, rating) {
            alert(`Rated product ${productId} with ${rating} stars`);
        }

        function addReview(productId) {
            alert('Review form would open here');
        }

        function viewAllReviews(productId) {
            alert(`Showing all reviews for product ${productId}`);
        }

        function applyFilters() {
            filterProducts();
        }

        function clearFilters() {
            document.getElementById('productSearch').value = '';
            document.getElementById('categoryFilter').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('sortFilter').value = 'newest';
            filterProducts();
        }

        function exportData() {
            alert('Data export feature - would download user data as CSV/PDF');
        }

        function importData() {
            alert('Data import feature - would allow uploading data files');
        }

        function backupData() {
            alert('Data backed up successfully to cloud storage');
        }

        function restoreData() {
            alert('Data restore feature - would show available backups');
        }

        function enableTwoFactor() {
            alert('Two-factor authentication setup would begin');
        }

        function changePassword() {
            alert('Password change form would open');
        }

        function deleteAccount() {
            if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                alert('Account deletion process would begin');
            }
        }

        function downloadInvoice(orderId) {
            alert(`Downloading invoice for order ${orderId}`);
        }

        function printInvoice(orderId) {
            alert(`Printing invoice for order ${orderId}`);
        }

        function cancelOrder(orderId) {
            if (confirm('Are you sure you want to cancel this order?')) {
                alert(`Order ${orderId} has been cancelled`);
            }
        }

        function returnOrder(orderId) {
            alert(`Return request initiated for order ${orderId}`);
        }

        function trackShipment(orderId) {
            alert(`Tracking shipment for order ${orderId}`);
        }

        function scheduleDelivery(orderId) {
            alert(`Delivery scheduling for order ${orderId}`);
        }

        function addToCalendar(event) {
            alert(`Adding "${event}" to farming calendar`);
        }

        function setReminder(task) {
            alert(`Reminder set for: ${task}`);
        }

        function markTaskComplete(taskId) {
            alert(`Task ${taskId} marked as complete`);
        }

        function addCustomTask() {
            const task = prompt('Enter custom farming task:');
            if (task) {
                alert(`Custom task added: ${task}`);
            }
        }

        function exportCalendar() {
            alert('Farming calendar exported to your device');
        }

        function syncCalendar() {
            alert('Calendar synced with Google Calendar');
        }

        function getWeatherAlerts() {
            alert('Weather alerts enabled for your location');
        }

        function customizeWeatherAlerts() {
            alert('Weather alert customization panel would open');
        }

        function shareWeatherInfo() {
            alert('Weather information shared with farming community');
        }

        function viewHistoricalWeather() {
            alert('Historical weather data for your location');
        }

        function enableLocationServices() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        alert(`Location enabled: ${position.coords.latitude}, ${position.coords.longitude}`);
                    },
                    (error) => {
                        alert('Location access denied or unavailable');
                    }
                );
            } else {
                alert('Geolocation not supported by this browser');
            }
        }

        function findNearbyFarmers() {
            alert('Searching for farmers within 10km radius...');
        }

        function joinFarmingGroup() {
            alert('Joining local farming community group');
        }

        function createFarmingGroup() {
            alert('Creating new farming community group');
        }

        function shareFarmingTip() {
            const tip = prompt('Share your farming tip:');
            if (tip) {
                alert(`Farming tip shared: ${tip}`);
            }
        }

        function reportIssue() {
            alert('Issue reporting form would open');
        }

        function requestFeature() {
            alert('Feature request form would open');
        }

        function ratePlatform() {
            alert('Platform rating form would open');
        }

        function viewTerms() {
            alert('Terms of Service would be displayed');
        }

        function viewPrivacy() {
            alert('Privacy Policy would be displayed');
        }

        function manageCookies() {
            alert('Cookie management panel would open');
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('productModal');
            if (modal && e.target === modal) {
                closeProductModal();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9787676ce670dd0d',t:'MTc1Njc1NzM1My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
